<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>【Datawhale 科研绘图】 2 绘制工具及示例 | Random-Walker in the Knowledge Category</title><meta name="author" content="Ruijie He"><meta name="copyright" content="Ruijie He"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Datawhale 科研绘图学习笔记">
<meta property="og:type" content="article">
<meta property="og:title" content="【Datawhale 科研绘图】 2 绘制工具及示例">
<meta property="og:url" content="https://hrjtju.github.io/2023/08/25/2023/08/2023-08-29-PySciPlot-2/index.html">
<meta property="og:site_name" content="Random-Walker in the Knowledge Category">
<meta property="og:description" content="Datawhale 科研绘图学习笔记">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://hrjtju.github.io/img/header/sciplot.png">
<meta property="article:published_time" content="2023-08-24T16:00:00.000Z">
<meta property="article:modified_time" content="2023-08-30T08:33:16.000Z">
<meta property="article:author" content="Ruijie He">
<meta property="article:tag" content="Plotting">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://hrjtju.github.io/img/header/sciplot.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://hrjtju.github.io/2023/08/25/2023/08/2023-08-29-PySciPlot-2/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?84a2e12fa5f41f1d7c86b0eb39ca1eab";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  dateSuffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '【Datawhale 科研绘图】 2 绘制工具及示例',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-08-30 16:33:16'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/arisu.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">72</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">34</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">2</div></a></div><hr class="custom-hr"/></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/header/sciplot.png')"><nav id="nav"><span id="blog-info"><a href="/" title="Random-Walker in the Knowledge Category"><img class="site-icon" src="/img/logo.jpg"/><span class="site-name">Random-Walker in the Knowledge Category</span></a></span><div id="menus"><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">【Datawhale 科研绘图】 2 绘制工具及示例</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2023-08-24T16:00:00.000Z" title="Created 2023-08-25 00:00:00">2023-08-25</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2023-08-30T08:33:16.000Z" title="Updated 2023-08-30 16:33:16">2023-08-30</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/posts/">posts</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word count:</span><span class="word-count">10.3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading time:</span><span>53min</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="【Datawhale 科研绘图】 2 绘制工具及示例"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h3 id="1-matplotlib"><a href="#1-matplotlib" class="headerlink" title="1 matplotlib"></a>1 <code>matplotlib</code></h3><h4 id="1-1-图形元素"><a href="#1-1-图形元素" class="headerlink" title="1.1 图形元素"></a>1.1 图形元素</h4><p><img src="/img/image-20230814191913470.png" alt="image-20230814191913470" style="zoom:50%;" /></p>
<p><strong>主要图形元素</strong></p>
<ul>
<li>画布（Figure）</li>
<li>坐标图形（Axes）</li>
<li>轴（Axis）</li>
<li>艺术对象（Artist）</li>
</ul>
<p><strong>图层属性</strong></p>
<ul>
<li>图名（Title）</li>
<li>刻度（Tick）</li>
<li>刻度标签（Tick Label）</li>
<li>轴标签（Axis Label）</li>
<li>轴脊（Spine）</li>
<li>图例（Legend）</li>
<li>网格（Grid）</li>
<li>线（Line）</li>
<li>数据标记（Marker）</li>
</ul>
<h4 id="1-2-图层顺序"><a href="#1-2-图层顺序" class="headerlink" title="1.2 图层顺序"></a>1.2 图层顺序</h4><p><code>matplotlib</code>采用面向对象的绘图方式，设置绘图函数中的<code>zorder</code>来指定不同图层。</p>
<p><img src="/img/image-20230814192519186.png" alt="image-20230814192519186" style="zoom:33%;" /></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>Artist</th>
<th><code>zorder</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>Images（AxesImage，FigureImage，BboxImage）</td>
<td>$0$</td>
</tr>
<tr>
<td>Patch / PatchCollection</td>
<td>$1$</td>
</tr>
<tr>
<td>Line2D / LineCollection</td>
<td>$2$</td>
</tr>
<tr>
<td>Text</td>
<td>$3$</td>
</tr>
<tr>
<td>Inset axes / Legend</td>
<td>$4$</td>
</tr>
</tbody>
</table>
</div>
<h4 id="1-3-轴比例和刻度"><a href="#1-3-轴比例和刻度" class="headerlink" title="1.3 轴比例和刻度"></a>1.3 轴比例和刻度</h4><p><strong>轴对象</strong>可以控制<strong>轴比例（Axis Scale）</strong>、<strong>刻度位置（Tick Locator）</strong>和<strong>刻度格式（Tick Formatter）</strong></p>
<h5 id="1-3-1-轴比例"><a href="#1-3-1-轴比例" class="headerlink" title="1.3.1 轴比例"></a>1.3.1 轴比例</h5><p><code>matplotlib</code>内实现了线性、对数等轴比例方式，也可以自定义函数比例。</p>
<p><img src="/img/image-20230814204738961.png" alt="image-20230814204738961" style="zoom:50%;" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 导入相关的包</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> matplotlib</span><br><span class="line"></span><br><span class="line"><span class="comment"># 初始化设置</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.family&#x27;</span>] = <span class="string">&quot;Microsoft YaHei&quot;</span>		<span class="comment"># 解决中文显示问题</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>] = <span class="literal">False</span>			<span class="comment"># 解决unicode负号显示问题</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘图设置	</span></span><br><span class="line">plt.figure(figsize=(<span class="number">10</span>, <span class="number">8</span>), dpi=<span class="number">200</span>)				<span class="comment"># 设置画布</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制多子图</span></span><br><span class="line">plt.subplot(<span class="number">221</span>)									<span class="comment"># 两行两列中的第一个子图</span></span><br><span class="line">plt.plot(v, y)										<span class="comment"># 绘制折线图</span></span><br><span class="line">plt.title(<span class="string">&quot;线性坐标&quot;</span>)							      <span class="comment"># 设置子图标题</span></span><br><span class="line">plt.grid()											<span class="comment"># 设置网格</span></span><br><span class="line"></span><br><span class="line">ax = plt.subplot(<span class="number">222</span>)</span><br><span class="line">plt.title(<span class="string">&quot;对数坐标&quot;</span>)</span><br><span class="line">ax.set_yscale(<span class="string">&quot;log&quot;</span>);								<span class="comment"># 设置 y 轴标度</span></span><br><span class="line">plt.plot(v, y)</span><br><span class="line">plt.grid()</span><br><span class="line"></span><br><span class="line">ax = plt.subplot(<span class="number">223</span>)</span><br><span class="line">ax.set_xscale(<span class="string">&quot;log&quot;</span>);</span><br><span class="line">ax.set_yscale(<span class="string">&quot;log&quot;</span>);</span><br><span class="line">plt.title(<span class="string">&quot;双对数坐标&quot;</span>)</span><br><span class="line">plt.plot(v, y)</span><br><span class="line">plt.grid()</span><br><span class="line"></span><br><span class="line">ax = plt.subplot(<span class="number">224</span>)</span><br><span class="line">plt.title(<span class="string">&quot;对称对数坐标&quot;</span>)</span><br><span class="line">ax.set_yscale(<span class="string">&quot;symlog&quot;</span>)</span><br><span class="line">plt.plot(v, y)</span><br><span class="line">plt.grid()</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<h5 id="1-3-2-刻度位置和刻度格式"><a href="#1-3-2-刻度位置和刻度格式" class="headerlink" title="1.3.2 刻度位置和刻度格式"></a>1.3.2 刻度位置和刻度格式</h5><div class="table-container">
<table>
<thead>
<tr>
<th>刻度位置与格式</th>
<th>解释</th>
<th>图示</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>NullLocator()</code></td>
<td>空轴</td>
<td><img src="/img/image-20230814214215326.png" alt="image-20230814214215326" style="zoom: 33%;" /></td>
</tr>
<tr>
<td><code>MultipleLocator(0.5)</code></td>
<td>包含主刻度和次刻度</td>
<td><img src="/img/image-20230814214300210.png" alt="image-20230814214300210" style="zoom:33%;" /></td>
</tr>
<tr>
<td><code>FixedLocator([0, 0.1, 0.3, 0.5, 0.9])</code></td>
<td>选定刻度</td>
<td><img src="/img/image-20230814214330652.png" alt="image-20230814214330652" style="zoom:33%;" /></td>
</tr>
<tr>
<td><code>LinearLocator(numticks)</code></td>
<td>线性刻度</td>
<td><img src="/img/image-20230814214435204.png" alt="image-20230814214435204" style="zoom:33%;" /></td>
</tr>
<tr>
<td><code>IndexLocator(base=0.5, offset=0.3)</code></td>
<td>序列刻度</td>
<td></td>
</tr>
<tr>
<td><code>AutoLocator()</code></td>
<td>自动刻度</td>
<td><img src="/img/image-20230814215322922.png" alt="image-20230814215322922" style="zoom:33%;" /></td>
</tr>
<tr>
<td><code>MaxNLocator()</code></td>
<td>设置最大值的刻度</td>
<td><img src="/img/image-20230814215402567.png" alt="image-20230814215402567" style="zoom:33%;" /></td>
</tr>
<tr>
<td><code>LogLocator(base=10, ticks=15)</code></td>
<td>对数刻度</td>
<td><img src="/img/image-20230814215921823.png" alt="image-20230814215921823" style="zoom:33%;" /></td>
</tr>
<tr>
<td><code>NullFormatter()</code></td>
<td>无格式化字符串</td>
<td><img src="/img/image-20230814220119833.png" alt="image-20230814220119833" style="zoom:33%;" /></td>
</tr>
<tr>
<td><code>StrMethodFormatter(&quot;&#123;x:.3f&#125;&quot;)</code></td>
<td>使用格式化的刻度字符串</td>
<td><img src="/img/image-20230814220306036.png" alt="image-20230814220306036" style="zoom:33%;" /></td>
</tr>
<tr>
<td><code>FuncFormatter(&quot;&#123;:.3f&#125;&quot;.format)</code></td>
<td>使用格式化函数格式化刻度字符串</td>
<td><img src="/img/image-20230814220328333.png" alt="image-20230814220328333" style="zoom:33%;" /></td>
</tr>
<tr>
<td><code>FixedFormatter([&#39;A&#39;...&#39;K&#39;])</code></td>
<td>确定模式的刻度字符串</td>
<td><img src="/img/image-20230814221224217.png" alt="image-20230814221224217" style="zoom:33%;" /></td>
</tr>
<tr>
<td><code>ScalarFormatter()</code></td>
<td>标量格式化刻度字符串</td>
<td><img src="/img/image-20230814221253467.png" alt="image-20230814221253467" style="zoom:33%;" /></td>
</tr>
<tr>
<td><code>FormatStrFormatter(&quot;#%d&quot;)</code></td>
<td>格式化刻度字符串</td>
<td><img src="/img/image-20230814221548315.png" alt="image-20230814221548315" style="zoom:33%;" /></td>
</tr>
<tr>
<td><code>PercentFormatter(xmax=8)</code></td>
<td>百分比格式化刻度字符串</td>
<td><img src="/img/image-20230814221610261.png" alt="image-20230814221610261" style="zoom:33%;" /></td>
</tr>
</tbody>
</table>
</div>
<p><img src="/img/image-20230814213043650.png" alt="image-20230814213043650" style="zoom:50%;" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">fig = plt.figure(figsize=(<span class="number">6</span>, <span class="number">2</span>), dpi=<span class="number">300</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 隐藏上、左、右三个方向的边框</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">unvisible_spines</span>(<span class="params">ax:plt.Axes</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">    ax.spines[<span class="string">&quot;right&quot;</span>].set_visible(<span class="literal">False</span>)</span><br><span class="line">    ax.spines[<span class="string">&quot;left&quot;</span>].set_visible(<span class="literal">False</span>)</span><br><span class="line">    ax.spines[<span class="string">&quot;top&quot;</span>].set_visible(<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">set_ticks</span>(<span class="params">ax:plt.Axes, maj_loc=<span class="number">0.10</span>, </span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;设置x坐标轴的标度格式, 从上至下依次为</span></span><br><span class="line"><span class="string">    * 主刻度间隔 (0.1)</span></span><br><span class="line"><span class="string">    * 主刻度格式 (一位浮点数)</span></span><br><span class="line"><span class="string">    * 副刻度间隔 (0.02)</span></span><br><span class="line"><span class="string">    * 副刻度格式 (不显示)</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    ax.xaxis.set_major_locator(ticker.MultipleLocator(<span class="number">0.10</span>))</span><br><span class="line">    ax.xaxis.set_major_formatter(ticker.FormatStrFormatter(<span class="string">&quot;%.1f&quot;</span>))</span><br><span class="line">    ax.xaxis.set_minor_locator(ticker.MultipleLocator(<span class="number">0.02</span>))</span><br><span class="line">    ax.xaxis.set_minor_formatter(plt.NullFormatter())</span><br><span class="line"></span><br><span class="line"><span class="comment"># kwargs字典，设置子图x轴和y轴的范围</span></span><br><span class="line">subplot_args = &#123;<span class="string">&quot;xlim&quot;</span>:[<span class="number">0</span>, <span class="number">1</span>], <span class="string">&quot;ylim&quot;</span>:[<span class="number">0</span>, <span class="number">1</span>]&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 线性标度</span></span><br><span class="line"><span class="comment"># ------------------------------------------------</span></span><br><span class="line">ax = plt.subplot(<span class="number">4</span>, <span class="number">1</span>, <span class="number">1</span>, **subplot_args)</span><br><span class="line">ax.set_yticks([])</span><br><span class="line">ax.text(<span class="number">0.5</span>, <span class="number">0.2</span>, </span><br><span class="line">         <span class="string">&quot;linear scale&quot;</span>,</span><br><span class="line">         transform=ax.transAxes,</span><br><span class="line">         horizontalalignment=<span class="string">&quot;center&quot;</span>,</span><br><span class="line">         verticalalignment=<span class="string">&quot;bottom&quot;</span>,</span><br><span class="line">         )</span><br><span class="line">unvisible_spines(ax)</span><br><span class="line">set_ticks(ax)</span><br><span class="line"></span><br><span class="line">subplot_args = &#123;<span class="string">&quot;xlim&quot;</span>:[<span class="number">0.1</span>, <span class="number">0.9</span>], <span class="string">&quot;ylim&quot;</span>:[<span class="number">0</span>, <span class="number">1</span>]&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 对数标度</span></span><br><span class="line"><span class="comment"># ------------------------------------------------</span></span><br><span class="line">ax = plt.subplot(<span class="number">4</span>, <span class="number">1</span>, <span class="number">2</span>, **subplot_args)</span><br><span class="line">ax.set_yticks([])</span><br><span class="line">ax.text(<span class="number">0.5</span>, <span class="number">0.2</span>, </span><br><span class="line">         <span class="string">&quot;log scale&quot;</span>,</span><br><span class="line">         transform=ax.transAxes,</span><br><span class="line">         horizontalalignment=<span class="string">&quot;center&quot;</span>,</span><br><span class="line">         verticalalignment=<span class="string">&quot;bottom&quot;</span>,</span><br><span class="line">         )</span><br><span class="line">ax.set_xscale(<span class="string">&quot;log&quot;</span>)</span><br><span class="line">unvisible_spines(ax)</span><br><span class="line">set_ticks(ax)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Logit 标度</span></span><br><span class="line"><span class="comment"># ------------------------------------------------</span></span><br><span class="line">ax = plt.subplot(<span class="number">4</span>, <span class="number">1</span>, <span class="number">3</span>, **subplot_args)</span><br><span class="line">ax.set_yticks([])</span><br><span class="line">ax.text(<span class="number">0.5</span>, <span class="number">0.2</span>, </span><br><span class="line">         <span class="string">&quot;logit scale&quot;</span>,</span><br><span class="line">         transform=ax.transAxes,</span><br><span class="line">         horizontalalignment=<span class="string">&quot;center&quot;</span>,</span><br><span class="line">         verticalalignment=<span class="string">&quot;bottom&quot;</span>,</span><br><span class="line">         )</span><br><span class="line">ax.set_xscale(<span class="string">&quot;logit&quot;</span>)</span><br><span class="line">unvisible_spines(ax)</span><br><span class="line">set_ticks(ax)</span><br><span class="line"></span><br><span class="line"><span class="comment"># symlog 标度</span></span><br><span class="line"><span class="comment"># ------------------------------------------------</span></span><br><span class="line">ax = plt.subplot(<span class="number">4</span>, <span class="number">1</span>, <span class="number">4</span>, **subplot_args)</span><br><span class="line">ax.set_yticks([])</span><br><span class="line">ax.text(<span class="number">0.5</span>, <span class="number">0.2</span>, </span><br><span class="line">         <span class="string">&quot;symmetric log scale&quot;</span>,</span><br><span class="line">         transform=ax.transAxes,</span><br><span class="line">         horizontalalignment=<span class="string">&quot;center&quot;</span>,</span><br><span class="line">         verticalalignment=<span class="string">&quot;bottom&quot;</span>,</span><br><span class="line">         )</span><br><span class="line">ax.set_xscale(<span class="string">&quot;symlog&quot;</span>)</span><br><span class="line">unvisible_spines(ax)</span><br><span class="line">set_ticks(ax)</span><br><span class="line"></span><br><span class="line">plt.tight_layout()</span><br></pre></td></tr></table></figure>
<h4 id="1-4-坐标系"><a href="#1-4-坐标系" class="headerlink" title="1.4 坐标系"></a>1.4 坐标系</h4><p>常用的坐标系有直角坐标系（Rectangular Coordinate System）、极坐标系（Polar Coordinate System）、地理坐标系（Geographic Coordinate System）</p>
<p><img src="/img/image-20230814223359089.png" alt="image-20230814223359089" style="zoom:50%;" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.figure(figsize=(<span class="number">15</span>, <span class="number">10</span>), dpi=<span class="number">200</span>)</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>)</span><br><span class="line">plt.title(<span class="string">&quot;Rectangular 2d&quot;</span>)</span><br><span class="line">plt.grid()</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">3</span>, <span class="number">2</span>, projection=<span class="string">&quot;3d&quot;</span>)</span><br><span class="line">plt.title(<span class="string">&quot;Rectangular 3d&quot;</span>)</span><br><span class="line">plt.grid()</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, projection=<span class="string">&quot;polar&quot;</span>)</span><br><span class="line">plt.title(<span class="string">&quot;Polar&quot;</span>)</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, projection=<span class="string">&quot;hammer&quot;</span>)</span><br><span class="line">plt.title(<span class="string">&quot;Hammer&quot;</span>)</span><br><span class="line">plt.grid()</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, projection=<span class="string">&quot;lambert&quot;</span>)</span><br><span class="line">plt.title(<span class="string">&quot;Lambert&quot;</span>)</span><br><span class="line">plt.grid()</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">3</span>, <span class="number">6</span>, projection=<span class="string">&quot;mollweide&quot;</span>)</span><br><span class="line">plt.title(<span class="string">&quot;Mollweide&quot;</span>)</span><br><span class="line">plt.grid()</span><br><span class="line">plt.tight_layout()</span><br></pre></td></tr></table></figure>
<h4 id="1-5-多子图绘制"><a href="#1-5-多子图绘制" class="headerlink" title="1.5 多子图绘制"></a>1.5 多子图绘制</h4><p>由于前文已经大量使用子图的绘制，在此着重讨论一些较为复杂的之图绘制方法</p>
<h5 id="1-5-1-axes"><a href="#1-5-1-axes" class="headerlink" title="1.5.1 axes()"></a>1.5.1 <code>axes()</code></h5><p><code>axes()</code>函数返回可使用在当前画布中的坐标图形对象，其调用形式如下：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.axes()</span><br><span class="line">plt.axes(rect, projection=<span class="literal">None</span>, polar=<span class="literal">False</span>, **kwargs)</span><br><span class="line">plt.axes(ax)</span><br></pre></td></tr></table></figure>
<p>我们可以使用<code>axes()</code>的返回对象规定热力图的颜色映射参照<code>colobar()</code>的行为，如下图所示。<code>axes()</code>内可接受四元组参数（视版本而定，也可能是四元列表参数）<code>rect</code>，其中的四个分量分别表示矩形对象的位置（左右和上下）以及矩形对象的形状（宽度和高度）</p>
<p><img src="/img/image-20230814224632807.png" alt="image-20230814224632807" style="zoom:50%;" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">np.random.seed(<span class="number">19680801</span>)</span><br><span class="line">plt.imshow(np.random.random((<span class="number">100</span>, <span class="number">100</span>)))</span><br><span class="line"></span><br><span class="line">cax = plt.axes((<span class="number">0.85</span>, <span class="number">0.10</span>, <span class="number">0.1</span>, <span class="number">0.8</span>))</span><br><span class="line">plt.colorbar(cax=cax)</span><br></pre></td></tr></table></figure>
<h5 id="1-5-2-subplot2grid"><a href="#1-5-2-subplot2grid" class="headerlink" title="1.5.2 subplot2grid()"></a>1.5.2 <code>subplot2grid()</code></h5><p>该函数可以实现不规则（不完全对齐）的子图绘制，其调用格式如下</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">subplot2grid(shape, loc, rowspan=<span class="number">1</span>, colspan=<span class="number">1</span>, fig=<span class="literal">None</span>, **kwargs)</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230814225710172.png" alt="image-20230814225710172" style="zoom:50%;" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add_text_center</span>(<span class="params">ax:plt.Axes, text:<span class="built_in">str</span></span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">    ax.text(<span class="number">.5</span>, <span class="number">.5</span>, text,</span><br><span class="line">         horizontalalignment=<span class="string">&#x27;center&#x27;</span>,</span><br><span class="line">         verticalalignment=<span class="string">&#x27;center&#x27;</span>,)</span><br><span class="line"></span><br><span class="line">fig = plt.figure(dpi=<span class="number">200</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 表示该子图形状为 (3, 3)，锚点（左上角）位置是 (0, 0)，总共占三行</span></span><br><span class="line">ax1 = plt.subplot2grid((<span class="number">3</span>, <span class="number">3</span>), (<span class="number">0</span>, <span class="number">0</span>), colspan=<span class="number">3</span>)</span><br><span class="line">ax1.grid()</span><br><span class="line">add_text_center(ax1, <span class="string">&quot;subplot2grid((3, 3), (0, 0), colspan=3)&quot;</span>)</span><br><span class="line"></span><br><span class="line">ax2 = plt.subplot2grid((<span class="number">3</span>, <span class="number">3</span>), (<span class="number">1</span>, <span class="number">0</span>), colspan=<span class="number">2</span>)</span><br><span class="line">ax2.grid()</span><br><span class="line">add_text_center(ax2, <span class="string">&quot;subplot2grid((3, 3), (1, 0), colspan=2)&quot;</span>)</span><br><span class="line"></span><br><span class="line">ax3 = plt.subplot2grid((<span class="number">3</span>, <span class="number">3</span>), (<span class="number">1</span>, <span class="number">2</span>), rowspan=<span class="number">2</span>)</span><br><span class="line">ax3.grid()</span><br><span class="line">add_text_center(ax3, <span class="string">&quot;subplot2grid\n((3, 3), (1, 2),\nrowspan=2)&quot;</span>)</span><br><span class="line"></span><br><span class="line">ax4 = plt.subplot2grid((<span class="number">3</span>, <span class="number">3</span>), (<span class="number">2</span>, <span class="number">0</span>))</span><br><span class="line">ax4.grid()</span><br><span class="line">add_text_center(ax4, <span class="string">&quot;subplot2grid\n((3, 3), (2, 0))&quot;</span>)</span><br><span class="line"></span><br><span class="line">ax5 = plt.subplot2grid((<span class="number">3</span>, <span class="number">3</span>), (<span class="number">2</span>, <span class="number">1</span>))</span><br><span class="line">ax5.grid()</span><br><span class="line">add_text_center(ax5, <span class="string">&quot;subplot2grid\n((3, 3), (2, 1))&quot;</span>)</span><br><span class="line"></span><br><span class="line">plt.tight_layout()</span><br></pre></td></tr></table></figure>
<h5 id="1-5-3-gridspec-GridSpec"><a href="#1-5-3-gridspec-GridSpec" class="headerlink" title="1.5.3 gridspec.GridSpec()"></a>1.5.3 <code>gridspec.GridSpec()</code></h5><p><code>gridspec.GridSpec()</code>函数用于指定放置子图网格的几何形状，该类的<code>__init__()</code>函数签名如下</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">nrows, ncols, figure=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">             left=<span class="literal">None</span>, bottom=<span class="literal">None</span>, right=<span class="literal">None</span>, top=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">             wspace=<span class="literal">None</span>, hspace=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">             ... </span>): ...</span><br></pre></td></tr></table></figure>
<p>其中</p>
<ul>
<li><code>nrows</code>和<code>ncols</code>分别设置网格的行数和列数</li>
<li><code>left</code>，<code>bottom</code>，<code>right</code>和<code>top</code>设定网格在整个画布中的位置</li>
<li><code>wspace</code>和<code>hspace</code>分别控制子图之间的水平和垂直间隔</li>
</ul>
<p>我们也可以使用该函数实现和上面一样的多子图结构，由于和<code>ndarray</code>的数组索引方式相似，在使用时会比较方便。</p>
<p><img src="/img/image-20230814231416438.png" alt="image-20230814231416438" style="zoom: 50%;" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> matplotlib.gridspec <span class="keyword">as</span> gridspec</span><br><span class="line"></span><br><span class="line">fig = plt.figure(dpi=<span class="number">200</span>, constrained_layout=<span class="literal">True</span>)</span><br><span class="line">gspec = gridspec.GridSpec(ncols=<span class="number">3</span>, nrows=<span class="number">3</span>, figure=fig)</span><br><span class="line">ax1=plt.subplot(gspec[<span class="number">0</span>,:])</span><br><span class="line">ax1.grid()</span><br><span class="line">add_text_center(ax1, <span class="string">&quot;gspec[0,:]&quot;</span>)</span><br><span class="line"></span><br><span class="line">ax2=plt.subplot(gspec[<span class="number">1</span>,<span class="number">0</span>:<span class="number">2</span>])</span><br><span class="line">ax2.grid()</span><br><span class="line">add_text_center(ax2, <span class="string">&quot;gspec[1,0:2]&quot;</span>)</span><br><span class="line"></span><br><span class="line">ax3=plt.subplot(gspec[<span class="number">1</span>:,<span class="number">2</span>])</span><br><span class="line">ax3.grid()</span><br><span class="line">add_text_center(ax3, <span class="string">&quot;gspec[1:,2]&quot;</span>)</span><br><span class="line"></span><br><span class="line">ax4=plt.subplot(gspec[<span class="number">2</span>,<span class="number">0</span>])</span><br><span class="line">ax4.grid()</span><br><span class="line">add_text_center(ax4, <span class="string">&quot;gspec[2,0]&quot;</span>)</span><br><span class="line"></span><br><span class="line">ax5=plt.subplot(gspec[-<span class="number">1</span>,-<span class="number">2</span>])</span><br><span class="line">ax5.grid()</span><br><span class="line">add_text_center(ax5, <span class="string">&quot;gspec[-1,-2]&quot;</span>)</span><br></pre></td></tr></table></figure>
<h5 id="1-5-4-subplot-mosaic"><a href="#1-5-4-subplot-mosaic" class="headerlink" title="1.5.4 subplot_mosaic()"></a>1.5.4 <code>subplot_mosaic()</code></h5><p><code>subplot_mosaic()</code>函数可以利用<code>mosaic</code>参数设置子图布局：</p>
<p><img src="/img/image-20230814234221858.png" alt="image-20230814234221858" style="zoom:50%;" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">annotate_axes</span>(<span class="params">ax, text, fontsize</span>):</span><br><span class="line">    ax.text(<span class="number">0.5</span>, <span class="number">0.5</span>, text, transform=ax.transAxes,</span><br><span class="line">            alpha=<span class="number">0.75</span>, ha=<span class="string">&quot;center&quot;</span>, fontsize=fontsize,</span><br><span class="line">            va=<span class="string">&quot;center&quot;</span>, weight=<span class="string">&quot;bold&quot;</span>)</span><br><span class="line"></span><br><span class="line">fig, axd = plt.subplot_mosaic([[<span class="string">&#x27;upper left&#x27;</span>, <span class="string">&#x27;right&#x27;</span>],</span><br><span class="line">                               [<span class="string">&#x27;lower left&#x27;</span>, <span class="string">&#x27;right&#x27;</span>]], </span><br><span class="line">                              figsize=(<span class="number">6</span>,<span class="number">3</span>), </span><br><span class="line">                              constrained_layout=<span class="literal">True</span>, dpi=<span class="number">200</span>)</span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> axd:</span><br><span class="line">    annotate_axes(axd[k], <span class="string">f&#x27;axd[&quot;<span class="subst">&#123;k&#125;</span>&quot;]&#x27;</span>, fontsize=<span class="number">14</span>)</span><br><span class="line">    axd[k].grid()</span><br></pre></td></tr></table></figure>
<p>除此之外，也可以使用其他的方法进行对子图的灵活布局，十分简单易用：</p>
<p><img src="/img/image-20230814234501728.png" alt="image-20230814234501728" style="zoom:50%;" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">subplot_format = \</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">AABCC</span></span><br><span class="line"><span class="string">DEBCC</span></span><br><span class="line"><span class="string">DFFFG</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">fig, axd = plt.subplot_mosaic(subplot_format, </span><br><span class="line">                              figsize=(<span class="number">10</span>, <span class="number">5</span>), </span><br><span class="line">                              constrained_layout=<span class="literal">True</span>, dpi=<span class="number">200</span>)</span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> axd:</span><br><span class="line">    annotate_axes(axd[k], <span class="string">f&#x27;axd[&quot;<span class="subst">&#123;k&#125;</span>&quot;]&#x27;</span>, fontsize=<span class="number">14</span>)</span><br><span class="line">    axd[k].grid()</span><br></pre></td></tr></table></figure>
<p>在原书中还有另一种使用嵌套列表的表示法，由于其不如格式字符串设置简便，在此暂且不加讨论。</p>
<h4 id="1-6-常见的图类型"><a href="#1-6-常见的图类型" class="headerlink" title="1.6 常见的图类型"></a>1.6 常见的图类型</h4><div class="table-container">
<table>
<thead>
<tr>
<th>图类型</th>
<th>绘图函数</th>
<th>示例</th>
</tr>
</thead>
<tbody>
<tr>
<td>折线图</td>
<td><code>plot</code></td>
<td><img src="/img/image-20230822204010940.png" alt="image-20230822204010940" style="zoom: 25%;" /></td>
</tr>
<tr>
<td>散点图</td>
<td><code>scatter</code></td>
<td><img src="/img/image-20230822204027449.png" alt="image-20230822204027449" style="zoom:25%;" /></td>
</tr>
<tr>
<td>条形图</td>
<td><code>bar</code> / <code>barh</code></td>
<td><img src="/img/image-20230822204114676.png" alt="image-20230822204114676" style="zoom:25%;" /></td>
</tr>
<tr>
<td>竖直线</td>
<td><code>axvline</code></td>
<td><img src="/img/image-20230822204135511.png" alt="image-20230822204135511" style="zoom:25%;" /></td>
</tr>
<tr>
<td>水平线</td>
<td><code>axhline</code></td>
<td><img src="/img/image-20230822204145186.png" alt="image-20230822204145186" style="zoom:25%;" /></td>
</tr>
<tr>
<td>与轴垂直的矩形</td>
<td><code>axhspan</code> / <code>axvspan</code></td>
<td><img src="/img/image-20230822204506608.png" alt="image-20230822204506608" style="zoom:25%;" /></td>
</tr>
<tr>
<td>文本</td>
<td><code>text</code></td>
<td><img src="/img/image-20230822204613288.png" alt="image-20230822204613288" style="zoom:25%;" /></td>
</tr>
<tr>
<td>填充</td>
<td><code>fill_between</code></td>
<td><img src="/img/image-20230822204724173.png" alt="image-20230822204724173" style="zoom:25%;" /></td>
</tr>
<tr>
<td>饼图</td>
<td><code>pies</code></td>
<td><img src="/img/image-20230822204824314.png" alt="image-20230822204824314" style="zoom:25%;" /></td>
</tr>
<tr>
<td>等高线图</td>
<td><code>contour</code></td>
<td><img src="/img/image-20230822205216184.png" alt="image-20230822205216184" style="zoom:25%;" /></td>
</tr>
<tr>
<td>步阶图</td>
<td><code>step</code></td>
<td><img src="/img/image-20230822205516047.png" alt="image-20230822205516047" style="zoom:25%;" /></td>
</tr>
<tr>
<td>茎叶图</td>
<td><code>stem</code></td>
<td><img src="/img/image-20230822205535257.png" alt="image-20230822205535257" style="zoom:25%;" /></td>
</tr>
<tr>
<td>箱线图</td>
<td><code>boxplot</code></td>
<td><img src="/img/image-20230822205757098.png" alt="image-20230822205757098" style="zoom:25%;" /></td>
</tr>
<tr>
<td>误差线</td>
<td><code>errorbar</code></td>
<td><img src="/img/image-20230822210036356.png" alt="image-20230822210036356" style="zoom:25%;" /></td>
</tr>
<tr>
<td>直方图</td>
<td><code>hist</code></td>
<td><img src="/img/image-20230822210115347.png" alt="image-20230822210115347" style="zoom:25%;" /></td>
</tr>
<tr>
<td>小提琴图</td>
<td><code>violinplot</code></td>
<td><img src="/img/image-20230822210305845.png" alt="image-20230822210305845" style="zoom:25%;" /></td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># plot</span></span><br><span class="line">x = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">100</span>)</span><br><span class="line">y = x + np.random.rand(*x.shape)</span><br><span class="line">plt.figure(dpi=<span class="number">200</span>)</span><br><span class="line">plt.plot(x, y)</span><br><span class="line"></span><br><span class="line"><span class="comment"># scatter</span></span><br><span class="line">x = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">100</span>)</span><br><span class="line">y = x + np.random.rand(*x.shape)</span><br><span class="line">plt.figure(dpi=<span class="number">200</span>)</span><br><span class="line">plt.scatter(x, y)</span><br><span class="line"></span><br><span class="line"><span class="comment"># bar</span></span><br><span class="line">x = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>]</span><br><span class="line">y = [<span class="number">10</span>, <span class="number">2</span>, <span class="number">45</span>, <span class="number">63</span>, <span class="number">32</span>]</span><br><span class="line">plt.figure(dpi=<span class="number">200</span>)</span><br><span class="line">plt.bar(x, y)</span><br><span class="line"></span><br><span class="line"><span class="comment"># axvline</span></span><br><span class="line">plt.figure(dpi=<span class="number">200</span>)</span><br><span class="line">plt.axhline(<span class="number">5</span>, <span class="number">0</span>, <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># axhspan</span></span><br><span class="line">plt.figure(dpi=<span class="number">200</span>)</span><br><span class="line">plt.axhspan(ymin=<span class="number">20</span>, ymax=<span class="number">40</span>, alpha=<span class="number">0.5</span>)</span><br><span class="line">plt.plot(x, y)</span><br><span class="line"></span><br><span class="line"><span class="comment"># text</span></span><br><span class="line">plt.figure(dpi=<span class="number">200</span>)</span><br><span class="line">plt.text(<span class="number">0.5</span>, <span class="number">0.5</span>, <span class="string">&quot;Matplotlib&quot;</span>, centeralign=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># fill_between</span></span><br><span class="line">x = np.linspace(<span class="number">0</span>, <span class="number">20</span>, <span class="number">2000</span>)</span><br><span class="line">y1 = np.sin(x)</span><br><span class="line">y2 = np.cos(x)</span><br><span class="line">plt.figure(dpi=<span class="number">200</span>)</span><br><span class="line">plt.fill_between(x, y1, y2, alpha=<span class="number">0.5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># pies</span></span><br><span class="line">x = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>]</span><br><span class="line">y = [<span class="number">10</span>, <span class="number">2</span>, <span class="number">45</span>, <span class="number">63</span>, <span class="number">32</span>]</span><br><span class="line">plt.figure(dpi=<span class="number">200</span>)</span><br><span class="line">plt.pie(y, labels=x)</span><br><span class="line"></span><br><span class="line"><span class="comment"># contour</span></span><br><span class="line">x, y = np.linspace(-<span class="number">5</span>, <span class="number">5</span>, <span class="number">1000</span>), np.linspace(-<span class="number">5</span>, <span class="number">5</span>, <span class="number">1000</span>)</span><br><span class="line">xx, yy = np.meshgrid(x, y)</span><br><span class="line">z = np.sin(xx**<span class="number">3</span> + yy**<span class="number">2</span>) / (xx**<span class="number">3</span> + yy**<span class="number">2</span>)</span><br><span class="line">plt.figure(dpi=<span class="number">200</span>)</span><br><span class="line">plt.contour(x, y, z)</span><br><span class="line"></span><br><span class="line"><span class="comment"># step</span></span><br><span class="line">x = np.linspace(-<span class="number">5</span>, <span class="number">5</span>, <span class="number">10</span>)</span><br><span class="line">y = np.tan(x)</span><br><span class="line">plt.figure(dpi=<span class="number">200</span>)</span><br><span class="line">plt.step(x, y)</span><br><span class="line"></span><br><span class="line"><span class="comment"># stem</span></span><br><span class="line">x = np.linspace(-<span class="number">5</span>, <span class="number">5</span>, <span class="number">10</span>)</span><br><span class="line">y = np.tan(x)</span><br><span class="line">plt.figure(dpi=<span class="number">200</span>)</span><br><span class="line">plt.stem(x, y)</span><br><span class="line"></span><br><span class="line"><span class="comment"># boxplot</span></span><br><span class="line">x = [np.random.randint(<span class="number">0</span>, <span class="number">10</span>) + np.random.rand(<span class="number">10</span>) * <span class="built_in">abs</span>(np.random.rand(<span class="number">1</span>) + <span class="number">0.2</span>) * <span class="number">5</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)]</span><br><span class="line">plt.figure(dpi=<span class="number">200</span>)</span><br><span class="line">plt.boxplot(x)</span><br><span class="line"></span><br><span class="line"><span class="comment"># errorbar</span></span><br><span class="line">x = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">1000</span>)</span><br><span class="line">yerr = np.random.rand(*x.shape)</span><br><span class="line">y = np.sin(x)</span><br><span class="line">plt.figure(dpi=<span class="number">200</span>)</span><br><span class="line">plt.errorbar(x, y, yerr=yerr, elinewidth=<span class="number">0.1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># hist</span></span><br><span class="line">x = np.random.randn(<span class="number">10000</span>)</span><br><span class="line">plt.figure(dpi=<span class="number">200</span>)</span><br><span class="line">plt.hist(x, bins=<span class="number">100</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># violinplot</span></span><br><span class="line">x = [np.random.randint(<span class="number">0</span>, <span class="number">10</span>) + np.random.rand(<span class="number">10000</span>) * <span class="built_in">abs</span>(np.random.rand(<span class="number">1</span>)) * <span class="number">3</span>\</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)]</span><br><span class="line">plt.figure(dpi=<span class="number">200</span>)</span><br><span class="line">plt.violinplot(x)</span><br></pre></td></tr></table></figure>
<h4 id="1-7-结果的保存"><a href="#1-7-结果的保存" class="headerlink" title="1.7 结果的保存"></a>1.7 结果的保存</h4><p><code>matplotlib</code>可以将绘图结果存为多种格式，如PNG，JPG，TIFF，PDF，SVG等。使用<code>savefig()</code>函数保存画出的图像，这个函数需要在<code>show</code>之前，以避免保存图像为空白的问题。为去除图像四周的空白部分，可以设置<code>bbox_inches=&quot;tight&quot;</code>来实现。以上文所述的<code>fill_between</code>函数的示例为例，分别指定和不指定<code>bbox_tight</code>参数，可以看出不指定参数（左）的四周空隙大于指定参数（右）的四周空隙。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = np.linspace(<span class="number">0</span>, <span class="number">20</span>, <span class="number">2000</span>)</span><br><span class="line">y1 = np.sin(x)</span><br><span class="line">y2 = np.cos(x)</span><br><span class="line">plt.figure(dpi=<span class="number">200</span>, facecolor=<span class="string">&quot;blue&quot;</span>)</span><br><span class="line">plt.fill_between(x, y1, y2, alpha=<span class="number">0.5</span>)</span><br><span class="line">plt.savefig(<span class="string">&quot;./a.png&quot;</span>)</span><br><span class="line">plt.savefig(<span class="string">&quot;./a_t.png&quot;</span>, bbox_inches=<span class="string">&quot;tight&quot;</span>)</span><br></pre></td></tr></table></figure>
<center><img src="/img/image-20230822212054577.png" alt="image-20230822212054577" style="zoom:25%;" /><img src="/img/image-20230822212102023.png" alt="image-20230822212102023" style="zoom:25%;" /></center>





<h3 id="2-Seaborn"><a href="#2-Seaborn" class="headerlink" title="2 Seaborn"></a>2 <code>Seaborn</code></h3><p>该库对Matplotlib进行了更高级的封装，使得用户可以在少量代码下绘制出复杂的图形。</p>
<h4 id="2-1-图类型"><a href="#2-1-图类型" class="headerlink" title="2.1 图类型"></a>2.1 图类型</h4><p>Seaborn提供的可绘制图类型包括统计关系型、数据分布型、分类数据型、回归模型分析型和多子图网格型。</p>
<h5 id="2-1-1-关系型"><a href="#2-1-1-关系型" class="headerlink" title="2.1.1 关系型"></a>2.1.1 关系型</h5><h6 id="2-1-1-1-scatterplot"><a href="#2-1-1-1-scatterplot" class="headerlink" title="2.1.1.1 scatterplot()"></a>2.1.1.1 <code>scatterplot()</code></h6><blockquote>
<p><code>seaborn.scatterplot(data=None, *, x=None, y=None, hue=None, size=None, style=None, palette=None, hue_order=None, hue_norm=None, sizes=None, size_order=None, size_norm=None, markers=True, style_order=None, legend=&#39;auto&#39;, ax=None, **kwargs)</code></p>
<ul>
<li><code>data</code>    绘图源数据，可以为<code>pandas.DataFrame</code>，<code>numpy.ndarray</code>等序列或映射</li>
<li><code>x</code>、<code>y</code>   确定两坐标轴对应的变量</li>
<li><code>hue</code>    指定某一变量，其不同值对应图中的不同颜色</li>
<li><code>size</code>   指定某一变量，其不同值对应图中不同点的大小</li>
<li><code>style</code>   指定某一变量，其不同值对应图中的不同模式（如实线与虚线）</li>
<li><code>palette</code>    指定将<code>hue</code>中元素到不同颜色之间的映射</li>
<li><code>sizes</code>    确定不同<code>size</code>选用的方案</li>
<li><code>markers</code>    确定不同点类型的选用方案</li>
<li><code>legend</code>   <code>&quot;auto&quot;</code>,<code>&quot;brief&quot;</code>, <code>&quot;full&quot;</code>, 或<code>False</code></li>
<li><code>**kwargs</code>   其他传给<code>matplotlib.pyplot.scatter()</code>函数的关键字参数</li>
</ul>
</blockquote>
<p>以下是官网的使用例：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"></span><br><span class="line"><span class="comment"># 一些方便的设置</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">plot</span>(<span class="params">plot_func, fig_size, **kwargs</span>):</span><br><span class="line">    plt.figure(figsize=fig_size, dpi=<span class="number">200</span>)</span><br><span class="line">    ax = plt.subplot(<span class="number">111</span>)</span><br><span class="line">    plot_func(ax=ax, **kwargs)</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 加载数据</span></span><br><span class="line">tips = sns.load_dataset(<span class="string">&quot;tips&quot;</span>)</span><br><span class="line"><span class="comment"># 这个数据集一共有七列，即</span></span><br><span class="line"><span class="comment"># | total_bill | tip | sex | smoker | day | time | size |</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 不指定其他参数</span></span><br><span class="line">plot(sns.scatterplot, </span><br><span class="line">     (<span class="number">10</span>, <span class="number">10</span>), </span><br><span class="line">     data=tips, x=<span class="string">&quot;total_bill&quot;</span>, y=<span class="string">&quot;tip&quot;</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230825122707730.png" alt="image-20230825122707730" style="zoom:25%;" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 指定hue、style、size</span></span><br><span class="line">plot(sns.scatterplot, </span><br><span class="line">     (<span class="number">10</span>, <span class="number">10</span>), </span><br><span class="line">     data=tips, x=<span class="string">&quot;total_bill&quot;</span>, y=<span class="string">&quot;tip&quot;</span>, hue=<span class="string">&quot;time&quot;</span>,</span><br><span class="line">     style=<span class="string">&quot;time&quot;</span>, size=<span class="string">&quot;size&quot;</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230825123005219.png" alt="image-20230825123005219" style="zoom:25%;" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 指定hue为数值(numerical)而非分类(categorical)类型</span></span><br><span class="line">plot(sns.scatterplot, </span><br><span class="line">     (<span class="number">10</span>, <span class="number">10</span>), </span><br><span class="line">     data=tips, </span><br><span class="line">     x=<span class="string">&quot;total_bill&quot;</span>, y=<span class="string">&quot;tip&quot;</span>,</span><br><span class="line">     hue=tips.<span class="built_in">eval</span>(<span class="string">&quot;tip / total_bill&quot;</span>).rename(<span class="string">&quot;tip_rate&quot;</span>)</span><br><span class="line">     )</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230825123258728.png" alt="image-20230825123258728" style="zoom:25%;" /></p>
<h6 id="2-1-1-2-relplot"><a href="#2-1-1-2-relplot" class="headerlink" title="2.1.1.2 relplot()"></a>2.1.1.2 <code>relplot()</code></h6><blockquote>
<p><code>seaborn.relplot(data=None, *, x=None, y=None, hue=None, size=None, style=None, units=None, row=None, col=None, col_wrap=None, row_order=None, col_order=None, palette=None, hue_order=None, hue_norm=None, sizes=None, size_order=None, size_norm=None, markers=None, dashes=None, style_order=None, legend=&#39;auto&#39;, kind=&#39;scatter&#39;, height=5, aspect=1, facet_kws=None, **kwargs)</code></p>
<ul>
<li><code>units</code>    分类变量的指标，一般用于绘制多次重复实验的结果</li>
<li><code>row</code>、<code>col</code>    用于定义不同行和列的对应指标</li>
<li><code>dashes</code>    定义线型</li>
<li><code>kind</code>    选择线图或散点图</li>
<li><code>height</code>    每个子图的高（inch）</li>
<li><code>aspect</code>    每个子图的宽高比，<code>width = aspect * height</code></li>
<li><code>facet_kw</code>    传入<code>FacetGrid</code>的关键字参数</li>
</ul>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 指定hue，并分别指定行和列</span></span><br><span class="line">sns.relplot(data=tips, </span><br><span class="line">            x=<span class="string">&quot;total_bill&quot;</span>, y=<span class="string">&quot;tip&quot;</span>, </span><br><span class="line">            hue=<span class="string">&quot;day&quot;</span>, col=<span class="string">&quot;time&quot;</span>, row=<span class="string">&quot;sex&quot;</span></span><br><span class="line">            )</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230825130419372.png" alt="image-20230825130419372" style="zoom:50%;" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 指定hue、col和row</span></span><br><span class="line">sns.relplot(data=tips, </span><br><span class="line">            x=<span class="string">&quot;total_bill&quot;</span>, </span><br><span class="line">            y=<span class="string">&quot;tip&quot;</span>, </span><br><span class="line">            col=<span class="string">&quot;time&quot;</span>,</span><br><span class="line">            hue=<span class="string">&quot;time&quot;</span>, </span><br><span class="line">            size=<span class="string">&quot;size&quot;</span>, </span><br><span class="line">            style=<span class="string">&quot;sex&quot;</span>,</span><br><span class="line">            palette=[<span class="string">&quot;b&quot;</span>, <span class="string">&quot;r&quot;</span>], </span><br><span class="line">            sizes=(<span class="number">10</span>, <span class="number">100</span>)</span><br><span class="line">            )</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230825131003557.png" alt="image-20230825131003557" style="zoom:50%;" /></p>
<h6 id="2-1-1-3-lineplot"><a href="#2-1-1-3-lineplot" class="headerlink" title="2.1.1.3 lineplot()"></a>2.1.1.3 <code>lineplot()</code></h6><blockquote>
<p><code>seaborn.lineplot(data=None, *, x=None, y=None, hue=None, size=None, style=None, units=None, palette=None, hue_order=None, hue_norm=None, sizes=None, size_order=None, size_norm=None, dashes=True, markers=None, style_order=None, estimator=&#39;mean&#39;, errorbar =(&#39;ci&#39;, 95), n_boot=1000, seed=None, orient=&#39;x&#39;, sort=True, err_style=&#39;band&#39;, err_kws=None, legend=&#39;auto&#39;, ci=&#39;deprecated&#39;, ax=None, **kwargs)</code></p>
<ul>
<li><code>estimator</code>    估计方法，类型为<code>callable</code>或<code>None</code>，用于估计图线在某一处的值</li>
<li><code>errorbar</code>    选择对应的<code>errorbar</code>方法，或传入一个元组</li>
<li><code>n_boot</code>    <em>计算置信区间时所使用的自助次数</em></li>
<li><code>seed</code>    <em>自助法所使用的随机种子</em></li>
<li><code>orient</code>    目标函数的独立变量</li>
<li><code>sort</code>    对<code>x</code>或<code>y</code>变量进行排序</li>
</ul>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">flights = sns.load(<span class="string">&quot;flights&quot;</span>)</span><br><span class="line">flights.head()</span><br></pre></td></tr></table></figure>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:right"></th>
<th style="text-align:right">year</th>
<th style="text-align:right">month</th>
<th>passengers</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right">0</td>
<td style="text-align:right">1949</td>
<td style="text-align:right">Jan</td>
<td>112</td>
</tr>
<tr>
<td style="text-align:right">1</td>
<td style="text-align:right">1949</td>
<td style="text-align:right">Feb</td>
<td>118</td>
</tr>
<tr>
<td style="text-align:right">2</td>
<td style="text-align:right">1949</td>
<td style="text-align:right">Mar</td>
<td>132</td>
</tr>
<tr>
<td style="text-align:right">3</td>
<td style="text-align:right">1949</td>
<td style="text-align:right">Apr</td>
<td>129</td>
</tr>
<tr>
<td style="text-align:right">4</td>
<td style="text-align:right">1949</td>
<td style="text-align:right">May</td>
<td>121</td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">may_flights = floghts.query(<span class="string">&quot;month == &#x27;May&#x27;&quot;</span>)</span><br><span class="line">may_flights.head()</span><br></pre></td></tr></table></figure>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:right"></th>
<th style="text-align:right">year</th>
<th style="text-align:right">month</th>
<th>passengers</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right">4</td>
<td style="text-align:right">1949</td>
<td style="text-align:right">May</td>
<td>121</td>
</tr>
<tr>
<td style="text-align:right">16</td>
<td style="text-align:right">1950</td>
<td style="text-align:right">May</td>
<td>125</td>
</tr>
<tr>
<td style="text-align:right">28</td>
<td style="text-align:right">1951</td>
<td style="text-align:right">May</td>
<td>172</td>
</tr>
<tr>
<td style="text-align:right">40</td>
<td style="text-align:right">1952</td>
<td style="text-align:right">May</td>
<td>183</td>
</tr>
<tr>
<td style="text-align:right">52</td>
<td style="text-align:right">1953</td>
<td style="text-align:right">May</td>
<td>229</td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.figure(dpi=<span class="number">300</span>, figsize=(<span class="number">18</span>, <span class="number">9</span>))</span><br><span class="line"></span><br><span class="line">ax = plt.subplot(<span class="number">121</span>)</span><br><span class="line">sns.lineplot(data=may_flights, x=<span class="string">&quot;year&quot;</span>, y=<span class="string">&quot;passengers&quot;</span>, ax=ax)</span><br><span class="line"></span><br><span class="line">ax = plt.subplot(<span class="number">122</span>)</span><br><span class="line">sns.lineplot(data=flights, x=<span class="string">&quot;year&quot;</span>, y=<span class="string">&quot;passengers&quot;</span>, ax=ax)</span><br><span class="line"></span><br><span class="line">plt.tight_layout()</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230827112928236.png" alt="image-20230827112928236" style="zoom:25%;" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">flights_wide = flights.pivot(<span class="string">&quot;year&quot;</span>, <span class="string">&quot;month&quot;</span>, <span class="string">&quot;passengers&quot;</span>)</span><br><span class="line">flights_wide.head()</span><br></pre></td></tr></table></figure>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:right">month</th>
<th style="text-align:right">Jan</th>
<th style="text-align:right">Feb</th>
<th style="text-align:right">Mar</th>
<th style="text-align:right">Apr</th>
<th style="text-align:right">May</th>
<th style="text-align:right">Jun</th>
<th style="text-align:right">Jul</th>
<th style="text-align:right">Aug</th>
<th style="text-align:right">Sep</th>
<th style="text-align:right">Oct</th>
<th style="text-align:right">Nov</th>
<th style="text-align:right">Dec</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right">year</td>
<td style="text-align:right"></td>
<td style="text-align:right"></td>
<td style="text-align:right"></td>
<td style="text-align:right"></td>
<td style="text-align:right"></td>
<td style="text-align:right"></td>
<td style="text-align:right"></td>
<td style="text-align:right"></td>
<td style="text-align:right"></td>
<td style="text-align:right"></td>
<td style="text-align:right"></td>
<td style="text-align:right"></td>
</tr>
<tr>
<td style="text-align:right">1949</td>
<td style="text-align:right">112</td>
<td style="text-align:right">118</td>
<td style="text-align:right">132</td>
<td style="text-align:right">129</td>
<td style="text-align:right">121</td>
<td style="text-align:right">135</td>
<td style="text-align:right">148</td>
<td style="text-align:right">148</td>
<td style="text-align:right">136</td>
<td style="text-align:right">119</td>
<td style="text-align:right">104</td>
<td style="text-align:right">118</td>
</tr>
<tr>
<td style="text-align:right">1950</td>
<td style="text-align:right">115</td>
<td style="text-align:right">126</td>
<td style="text-align:right">141</td>
<td style="text-align:right">135</td>
<td style="text-align:right">125</td>
<td style="text-align:right">149</td>
<td style="text-align:right">170</td>
<td style="text-align:right">170</td>
<td style="text-align:right">158</td>
<td style="text-align:right">133</td>
<td style="text-align:right">114</td>
<td style="text-align:right">140</td>
</tr>
<tr>
<td style="text-align:right">1951</td>
<td style="text-align:right">145</td>
<td style="text-align:right">150</td>
<td style="text-align:right">178</td>
<td style="text-align:right">163</td>
<td style="text-align:right">172</td>
<td style="text-align:right">178</td>
<td style="text-align:right">199</td>
<td style="text-align:right">199</td>
<td style="text-align:right">184</td>
<td style="text-align:right">162</td>
<td style="text-align:right">146</td>
<td style="text-align:right">166</td>
</tr>
<tr>
<td style="text-align:right">1952</td>
<td style="text-align:right">171</td>
<td style="text-align:right">180</td>
<td style="text-align:right">193</td>
<td style="text-align:right">181</td>
<td style="text-align:right">183</td>
<td style="text-align:right">218</td>
<td style="text-align:right">230</td>
<td style="text-align:right">242</td>
<td style="text-align:right">209</td>
<td style="text-align:right">191</td>
<td style="text-align:right">172</td>
<td style="text-align:right">194</td>
</tr>
<tr>
<td style="text-align:right">1953</td>
<td style="text-align:right">196</td>
<td style="text-align:right">196</td>
<td style="text-align:right">236</td>
<td style="text-align:right">235</td>
<td style="text-align:right">229</td>
<td style="text-align:right">243</td>
<td style="text-align:right">264</td>
<td style="text-align:right">272</td>
<td style="text-align:right">237</td>
<td style="text-align:right">211</td>
<td style="text-align:right">180</td>
<td style="text-align:right">201</td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.figure(dpi=<span class="number">300</span>, figsize=(<span class="number">12</span>, <span class="number">12</span>))</span><br><span class="line">sns.lineplot(data=flights_wide)</span><br><span class="line">plt.grid()</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230827113329755.png" alt="image-20230827113329755" style="zoom: 25%;" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">fmri = sns.load_dataset(<span class="string">&quot;fmri&quot;</span>)</span><br><span class="line"></span><br><span class="line">plt.figure(dpi=<span class="number">300</span>, figsize=(<span class="number">16</span>, <span class="number">16</span>))</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>)</span><br><span class="line">sns.lineplot(data=fmri, x=<span class="string">&quot;timepoint&quot;</span>, y=<span class="string">&quot;signal&quot;</span>, hue=<span class="string">&quot;event&quot;</span>)</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">sns.lineplot(data=fmri, x=<span class="string">&quot;timepoint&quot;</span>, y=<span class="string">&quot;signal&quot;</span>, hue=<span class="string">&quot;region&quot;</span>, style=<span class="string">&quot;event&quot;</span>)</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">sns.lineplot(data=fmri, x=<span class="string">&quot;timepoint&quot;</span>, y=<span class="string">&quot;signal&quot;</span>, hue=<span class="string">&quot;region&quot;</span>, style=<span class="string">&quot;event&quot;</span>, markers=<span class="literal">True</span>, dashes=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">4</span>)</span><br><span class="line">sns.lineplot(data=fmri, x=<span class="string">&quot;timepoint&quot;</span>, y=<span class="string">&quot;signal&quot;</span>, hue=<span class="string">&quot;region&quot;</span>, style=<span class="string">&quot;event&quot;</span>, markers=<span class="literal">True</span>, err_style=<span class="string">&quot;bars&quot;</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230827114411080.png" alt="image-20230827114411080" style="zoom:25%;" /></p>
<p>值得注意的是，笔者使用的<code>seaborn</code>版本和所查文档的版本不同，<code>lineplot</code>函数中没有<code>errorbar</code>参数，而是<code>error_style</code>。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib <span class="keyword">as</span> mpl</span><br><span class="line"></span><br><span class="line">dots = sns.load_dataset(<span class="string">&quot;dots&quot;</span>).query(<span class="string">&quot;align == &#x27;dots&#x27;&quot;</span>)</span><br><span class="line">plt.figure(dpi=<span class="number">300</span>, figsize=(<span class="number">16</span>, <span class="number">16</span>))</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>)</span><br><span class="line">sns.lineplot(data=dots, x=<span class="string">&quot;time&quot;</span>, y=<span class="string">&quot;firing_rate&quot;</span>, hue=<span class="string">&quot;coherence&quot;</span>, style=<span class="string">&quot;choice&quot;</span>)</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">sns.lineplot(data=dots.query(<span class="string">&quot;coherence &gt; 0&quot;</span>), </span><br><span class="line">             x=<span class="string">&quot;time&quot;</span>, y=<span class="string">&quot;firing_rate&quot;</span>, </span><br><span class="line">             hue=<span class="string">&quot;coherence&quot;</span>, style=<span class="string">&quot;choice&quot;</span>,</span><br><span class="line">             palette=<span class="string">&quot;flare&quot;</span>, hue_norm=mpl.colors.LogNorm())</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">palette = sns.color_palette(<span class="string">&quot;mako_r&quot;</span>, <span class="number">6</span>)</span><br><span class="line">sns.lineplot(data=dots, </span><br><span class="line">             x=<span class="string">&quot;time&quot;</span>, y=<span class="string">&quot;firing_rate&quot;</span>, </span><br><span class="line">             hue=<span class="string">&quot;coherence&quot;</span>, style=<span class="string">&quot;choice&quot;</span>,</span><br><span class="line">             palette=palette)</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">4</span>)</span><br><span class="line">sns.lineplot(data=dots, </span><br><span class="line">             x=<span class="string">&quot;time&quot;</span>, y=<span class="string">&quot;firing_rate&quot;</span>, </span><br><span class="line">             size=<span class="string">&quot;coherence&quot;</span>, hue=<span class="string">&quot;choice&quot;</span>,</span><br><span class="line">             legend=<span class="string">&quot;full&quot;</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230827115241283.png" alt="image-20230827115241283" style="zoom:25%;" /></p>
<p>在默认情况下，<code>seaborn</code>会对输入的<code>x</code>变量进行排序，在一些特定情况下，我们并不希望进行这样的操作。下面就是一个例子</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> tqdm <span class="keyword">import</span> tqdm</span><br><span class="line"></span><br><span class="line">ITER_NUM = <span class="number">2000</span></span><br><span class="line"></span><br><span class="line">x, y = np.random.normal(size=(<span class="number">2</span>, ITER_NUM)).cumsum(axis=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">plt.figure(dpi=<span class="number">300</span>, figsize=(<span class="number">16</span>, <span class="number">8</span>))</span><br><span class="line"><span class="comment"># 直接绘制</span></span><br><span class="line">ax = plt.subplot(<span class="number">121</span>)</span><br><span class="line">sns.lineplot(x=x, y=y, sort=<span class="literal">False</span>, lw=<span class="number">1</span>, ax=ax)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加渐变颜色以显示轨迹的新旧</span></span><br><span class="line">ax = plt.subplot(<span class="number">122</span>)</span><br><span class="line">hue = np.linspace(<span class="number">0</span>, <span class="number">5</span>, ITER_NUM) / <span class="number">5</span> + <span class="number">1e-5</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> tqdm(<span class="built_in">range</span>(<span class="number">0</span>, ITER_NUM)):</span><br><span class="line">    sns.lineplot(x=x[i:i+<span class="number">2</span>], y=y[i:i+<span class="number">2</span>], </span><br><span class="line">                 sort=<span class="literal">False</span>, </span><br><span class="line">                 lw=<span class="number">1</span>, </span><br><span class="line">                 color=plt.get_cmap(<span class="string">&quot;BuPu&quot;</span>)(hue[i]), </span><br><span class="line">                 legend=<span class="literal">False</span>, </span><br><span class="line">                 ax=ax)</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230827123256923.png" alt="image-20230827123256923" style="zoom:25%;" /></p>
<h5 id="2-1-2-数据分布型"><a href="#2-1-2-数据分布型" class="headerlink" title="2.1.2 数据分布型"></a>2.1.2 数据分布型</h5><h6 id="2-1-2-1-displot"><a href="#2-1-2-1-displot" class="headerlink" title="2.1.2.1 displot()"></a>2.1.2.1 <code>displot()</code></h6><blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">displot</span>(<span class="params"></span></span><br><span class="line"><span class="params">        data=<span class="literal">None</span>, *,</span></span><br><span class="line"><span class="params">        <span class="comment"># Vector variables</span></span></span><br><span class="line"><span class="params">        x=<span class="literal">None</span>, y=<span class="literal">None</span>, hue=<span class="literal">None</span>, row=<span class="literal">None</span>, col=<span class="literal">None</span>, weights=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        <span class="comment"># Other plot parameters</span></span></span><br><span class="line"><span class="params">        kind=<span class="string">&quot;hist&quot;</span>, rug=<span class="literal">False</span>, rug_kws=<span class="literal">None</span>, log_scale=<span class="literal">None</span>, legend=<span class="literal">True</span>,</span></span><br><span class="line"><span class="params">        <span class="comment"># Hue-mapping parameters</span></span></span><br><span class="line"><span class="params">        palette=<span class="literal">None</span>, hue_order=<span class="literal">None</span>, hue_norm=<span class="literal">None</span>, color=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        <span class="comment"># Faceting parameters</span></span></span><br><span class="line"><span class="params">        col_wrap=<span class="literal">None</span>, row_order=<span class="literal">None</span>, col_order=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        height=<span class="number">5</span>, aspect=<span class="number">1</span>, facet_kws=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        **kwargs,</span></span><br><span class="line"><span class="params"></span>)</span><br></pre></td></tr></table></figure>
</blockquote>
<p>绘制分布图的函数。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">penguins = sns.load_dataset(<span class="string">&quot;penguins&quot;</span>)</span><br><span class="line"></span><br><span class="line">sns.displot(data=penguins, x=<span class="string">&quot;flipper_length_mm&quot;</span>, kde=<span class="literal">True</span>, facet_kws=&#123;<span class="string">&quot;size&quot;</span>:<span class="number">8</span>&#125;)</span><br><span class="line">plt.xlabel(<span class="string">&quot;flipper_length_mm&quot;</span>)</span><br><span class="line">plt.title(<span class="string">&quot;Histogram and KDE curve&quot;</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230827125953265.png" alt="image-20230827125953265" style="zoom: 50%;" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">sns.displot(data=penguins, x=<span class="string">&quot;flipper_length_mm&quot;</span>, kind=<span class="string">&quot;ecdf&quot;</span>, facet_kws=&#123;<span class="string">&quot;size&quot;</span>:<span class="number">8</span>&#125;)</span><br><span class="line">plt.xlabel(<span class="string">&quot;flipper_length_mm&quot;</span>)</span><br><span class="line">plt.title(<span class="string">&quot;ECDF curve&quot;</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230827163521536.png" alt="image-20230827163521536" style="zoom: 50%;" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">sns.displot(data=penguins, x=<span class="string">&quot;flipper_length_mm&quot;</span>, y=<span class="string">&quot;bill_length_mm&quot;</span>, bins=<span class="number">20</span></span><br><span class="line">           , height=<span class="number">8</span>)</span><br><span class="line">plt.title(<span class="string">&quot;Heat Map&quot;</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230827163714881.png" alt="image-20230827163714881" style="zoom:50%;" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">sns.displot(data=penguins, x=<span class="string">&quot;flipper_length_mm&quot;</span>, y=<span class="string">&quot;bill_length_mm&quot;</span>, height=<span class="number">8</span>, kind=<span class="string">&quot;kde&quot;</span>, rug=<span class="literal">True</span>)</span><br><span class="line">plt.title(<span class="string">&quot;KDE Contour Map&quot;</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230827163930646.png" alt="image-20230827163930646" style="zoom:50%;" /></p>
<h6 id="2-1-2-2-histpot"><a href="#2-1-2-2-histpot" class="headerlink" title="2.1.2.2 histpot()"></a>2.1.2.2 <code>histpot()</code></h6><blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">histplot</span>(<span class="params"></span></span><br><span class="line"><span class="params">        data=<span class="literal">None</span>, *,</span></span><br><span class="line"><span class="params">        <span class="comment"># Vector variables</span></span></span><br><span class="line"><span class="params">        x=<span class="literal">None</span>, y=<span class="literal">None</span>, hue=<span class="literal">None</span>, weights=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        <span class="comment"># Histogram computation parameters</span></span></span><br><span class="line"><span class="params">        stat=<span class="string">&quot;count&quot;</span>, bins=<span class="string">&quot;auto&quot;</span>, binwidth=<span class="literal">None</span>, binrange=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        discrete=<span class="literal">None</span>, cumulative=<span class="literal">False</span>, common_bins=<span class="literal">True</span>, common_norm=<span class="literal">True</span>,</span></span><br><span class="line"><span class="params">        <span class="comment"># Histogram appearance parameters</span></span></span><br><span class="line"><span class="params">        multiple=<span class="string">&quot;layer&quot;</span>, element=<span class="string">&quot;bars&quot;</span>, fill=<span class="literal">True</span>, shrink=<span class="number">1</span>,</span></span><br><span class="line"><span class="params">        <span class="comment"># Histogram smoothing with a kernel density estimate</span></span></span><br><span class="line"><span class="params">        kde=<span class="literal">False</span>, kde_kws=<span class="literal">None</span>, line_kws=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        <span class="comment"># Bivariate histogram parameters</span></span></span><br><span class="line"><span class="params">        thresh=<span class="number">0</span>, pthresh=<span class="literal">None</span>, pmax=<span class="literal">None</span>, cbar=<span class="literal">False</span>, cbar_ax=<span class="literal">None</span>, cbar_kws=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        <span class="comment"># Hue mapping parameters</span></span></span><br><span class="line"><span class="params">        palette=<span class="literal">None</span>, hue_order=<span class="literal">None</span>, hue_norm=<span class="literal">None</span>, color=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        <span class="comment"># Axes information</span></span></span><br><span class="line"><span class="params">        log_scale=<span class="literal">None</span>, legend=<span class="literal">True</span>, ax=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        <span class="comment"># Other appearance keywords</span></span></span><br><span class="line"><span class="params">        **kwargs,</span></span><br><span class="line"><span class="params"></span>) -&gt; matplotlib.axes.Axes: ...</span><br></pre></td></tr></table></figure>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">penguins = penguins = sns.load_dataset(<span class="string">&quot;penguins&quot;</span>)</span><br><span class="line"></span><br><span class="line">plt.figure(figsize=(<span class="number">16</span>, <span class="number">16</span>), dpi=<span class="number">300</span>)</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>)</span><br><span class="line"><span class="comment"># 还可以使用 binwidth 间接控制 bins 的数量</span></span><br><span class="line">sns.histplot(data=penguins, x=<span class="string">&quot;flipper_length_mm&quot;</span>, bins=<span class="number">30</span>, kde=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line"><span class="comment"># 使用 hue 区分不同的分布，并可以指定 multiple 为 &quot;stack&quot; 避免遮挡的情况</span></span><br><span class="line">sns.histplot(data=penguins, x=<span class="string">&quot;flipper_length_mm&quot;</span>, hue=<span class="string">&quot;species&quot;</span>, multiple=<span class="string">&quot;stack&quot;</span>)</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"><span class="comment"># 指定 common_norm 将所有数据进行归一化</span></span><br><span class="line">sns.histplot(</span><br><span class="line">    penguins, x=<span class="string">&quot;bill_length_mm&quot;</span>, hue=<span class="string">&quot;island&quot;</span>, element=<span class="string">&quot;step&quot;</span>,</span><br><span class="line">    stat=<span class="string">&quot;density&quot;</span>, common_norm=<span class="literal">False</span>,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">4</span>)</span><br><span class="line"><span class="comment"># 在离散的数据下绘制条形图</span></span><br><span class="line">sns.histplot(data=penguins, x=<span class="string">&quot;island&quot;</span>, hue=<span class="string">&quot;sex&quot;</span>, multiple=<span class="string">&quot;dodge&quot;</span>, shrink=<span class="number">.8</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230827174536442.png" alt="image-20230827174536442" style="zoom:25%;" /></p>
<h6 id="2-1-2-3-kdeplot"><a href="#2-1-2-3-kdeplot" class="headerlink" title="2.1.2.3 kdeplot()"></a>2.1.2.3 <code>kdeplot()</code></h6><blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">kdeplot</span>(<span class="params"></span></span><br><span class="line"><span class="params">        x=<span class="literal">None</span>,  <span class="comment"># Allow positional x, because behavior will not change with reorg</span></span></span><br><span class="line"><span class="params">        *,</span></span><br><span class="line"><span class="params">        y=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        shade=<span class="literal">None</span>,  <span class="comment"># Note &quot;soft&quot; deprecation, explained below</span></span></span><br><span class="line"><span class="params">        vertical=<span class="literal">False</span>,  <span class="comment"># Deprecated</span></span></span><br><span class="line"><span class="params">        kernel=<span class="literal">None</span>,  <span class="comment"># Deprecated</span></span></span><br><span class="line"><span class="params">        bw=<span class="literal">None</span>,  <span class="comment"># Deprecated</span></span></span><br><span class="line"><span class="params">        gridsize=<span class="number">200</span>,  <span class="comment"># TODO maybe depend on uni/bivariate?</span></span></span><br><span class="line"><span class="params">        cut=<span class="number">3</span>, clip=<span class="literal">None</span>, legend=<span class="literal">True</span>, cumulative=<span class="literal">False</span>,</span></span><br><span class="line"><span class="params">        shade_lowest=<span class="literal">None</span>,  <span class="comment"># Deprecated, controlled with levels now</span></span></span><br><span class="line"><span class="params">        cbar=<span class="literal">False</span>, cbar_ax=<span class="literal">None</span>, cbar_kws=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        ax=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params"></span></span><br><span class="line"><span class="params">        <span class="comment"># New params</span></span></span><br><span class="line"><span class="params">        weights=<span class="literal">None</span>,  <span class="comment"># TODO note that weights is grouped with semantics</span></span></span><br><span class="line"><span class="params">        hue=<span class="literal">None</span>, palette=<span class="literal">None</span>, hue_order=<span class="literal">None</span>, hue_norm=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        multiple=<span class="string">&quot;layer&quot;</span>, common_norm=<span class="literal">True</span>, common_grid=<span class="literal">False</span>,</span></span><br><span class="line"><span class="params">        levels=<span class="number">10</span>, thresh=<span class="number">.05</span>,</span></span><br><span class="line"><span class="params">        bw_method=<span class="string">&quot;scott&quot;</span>, bw_adjust=<span class="number">1</span>, log_scale=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        color=<span class="literal">None</span>, fill=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params"></span></span><br><span class="line"><span class="params">        <span class="comment"># Renamed params</span></span></span><br><span class="line"><span class="params">        data=<span class="literal">None</span>, data2=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params"></span></span><br><span class="line"><span class="params">        <span class="comment"># New in v0.12</span></span></span><br><span class="line"><span class="params">        warn_singular=<span class="literal">True</span>,</span></span><br><span class="line"><span class="params"></span></span><br><span class="line"><span class="params">        **kwargs,</span></span><br><span class="line"><span class="params"></span>) -&gt; matplotlib.axes.Axes: ...</span><br></pre></td></tr></table></figure>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">iris = sns.load_dataset(<span class="string">&quot;iris&quot;</span>)</span><br><span class="line">tips = sns.load_dataset(<span class="string">&quot;tips&quot;</span>)</span><br><span class="line">geyser = sns.load_dataset(<span class="string">&quot;geyser&quot;</span>)</span><br><span class="line"></span><br><span class="line">plt.figure(dpi=<span class="number">300</span>, figsize=(<span class="number">24</span>, <span class="number">16</span>))</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>)</span><br><span class="line"><span class="comment"># 绘制多个分布密度估计曲线并调整平滑带宽</span></span><br><span class="line">sns.kdeplot(data=iris, bw_adjust=<span class="number">.2</span>)</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">3</span>, <span class="number">2</span>)</span><br><span class="line"><span class="comment"># 堆叠多个分布估计曲线</span></span><br><span class="line">sns.kdeplot(data=tips, x=<span class="string">&quot;total_bill&quot;</span>, hue=<span class="string">&quot;time&quot;</span>, multiple=<span class="string">&quot;stack&quot;</span>)</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>)</span><br><span class="line"><span class="comment"># 归一化多个分布估计曲线</span></span><br><span class="line">sns.kdeplot(data=tips, x=<span class="string">&quot;total_bill&quot;</span>, hue=<span class="string">&quot;time&quot;</span>, multiple=<span class="string">&quot;fill&quot;</span>)</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"><span class="comment"># 绘制多个累积分布估计曲线</span></span><br><span class="line">sns.kdeplot(</span><br><span class="line">    data=tips, x=<span class="string">&quot;total_bill&quot;</span>, hue=<span class="string">&quot;time&quot;</span>,</span><br><span class="line">    cumulative=<span class="literal">True</span>, common_norm=<span class="literal">False</span>, common_grid=<span class="literal">True</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>)</span><br><span class="line"><span class="comment"># 使用数值类型的 hue</span></span><br><span class="line">sns.kdeplot(</span><br><span class="line">   data=tips, x=<span class="string">&quot;total_bill&quot;</span>, hue=<span class="string">&quot;size&quot;</span>,</span><br><span class="line">   fill=<span class="literal">True</span>, common_norm=<span class="literal">False</span>, palette=<span class="string">&quot;crest&quot;</span>,</span><br><span class="line">   alpha=<span class="number">.5</span>, linewidth=<span class="number">0</span>,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">3</span>, <span class="number">6</span>)</span><br><span class="line"><span class="comment"># 绘制多个二维分布的等高线图，并设置参数</span></span><br><span class="line">sns.kdeplot(</span><br><span class="line">    data=geyser, x=<span class="string">&quot;waiting&quot;</span>, y=<span class="string">&quot;duration&quot;</span>, hue=<span class="string">&quot;kind&quot;</span>,</span><br><span class="line">    levels=<span class="number">10</span>, thresh=<span class="number">.1</span>,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230827175425396.png" alt="image-20230827175425396" style="zoom:25%;" /></p>
<h6 id="2-1-2-4-ecdfplot"><a href="#2-1-2-4-ecdfplot" class="headerlink" title="2.1.2.4 ecdfplot()"></a>2.1.2.4 <code>ecdfplot()</code></h6><blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">ecdfplot</span>(<span class="params"></span></span><br><span class="line"><span class="params">        data=<span class="literal">None</span>, *,</span></span><br><span class="line"><span class="params">        <span class="comment"># Vector variables</span></span></span><br><span class="line"><span class="params">        x=<span class="literal">None</span>, y=<span class="literal">None</span>, hue=<span class="literal">None</span>, weights=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        <span class="comment"># Computation parameters</span></span></span><br><span class="line"><span class="params">        stat=<span class="string">&quot;proportion&quot;</span>, complementary=<span class="literal">False</span>,</span></span><br><span class="line"><span class="params">        <span class="comment"># Hue mapping parameters</span></span></span><br><span class="line"><span class="params">        palette=<span class="literal">None</span>, hue_order=<span class="literal">None</span>, hue_norm=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        <span class="comment"># Axes information</span></span></span><br><span class="line"><span class="params">        log_scale=<span class="literal">None</span>, legend=<span class="literal">True</span>, ax=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        <span class="comment"># Other appearance keywords</span></span></span><br><span class="line"><span class="params">        **kwargs,</span></span><br><span class="line"><span class="params"></span>) -&gt; matplotlib.axes.Axes: ...</span><br></pre></td></tr></table></figure>
</blockquote>
<p>上文中已有使用<code>cedfplot</code>绘制的例子，在此不再赘述。</p>
<h6 id="2-1-2-5-rugplot"><a href="#2-1-2-5-rugplot" class="headerlink" title="2.1.2.5 rugplot()"></a>2.1.2.5 <code>rugplot()</code></h6><blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">rugplot</span>(<span class="params"></span></span><br><span class="line"><span class="params">    x=<span class="literal">None</span>,  <span class="comment"># Allow positional x, because behavior won&#x27;t change</span></span></span><br><span class="line"><span class="params">    *,</span></span><br><span class="line"><span class="params">    height=<span class="number">.025</span>, axis=<span class="literal">None</span>, ax=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params"></span></span><br><span class="line"><span class="params">    <span class="comment"># New parameters</span></span></span><br><span class="line"><span class="params">    data=<span class="literal">None</span>, y=<span class="literal">None</span>, hue=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">    palette=<span class="literal">None</span>, hue_order=<span class="literal">None</span>, hue_norm=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">    expand_margins=<span class="literal">True</span>,</span></span><br><span class="line"><span class="params">    legend=<span class="literal">True</span>,  <span class="comment"># TODO or maybe default to False?</span></span></span><br><span class="line"><span class="params"></span></span><br><span class="line"><span class="params">    <span class="comment"># Renamed parameter</span></span></span><br><span class="line"><span class="params">    a=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params"></span></span><br><span class="line"><span class="params">    **kwargs</span></span><br><span class="line"><span class="params"></span>) -&gt; matplotlib.axes.Axes: ...</span><br></pre></td></tr></table></figure>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.figure(dpi=<span class="number">300</span>, figsize=(<span class="number">16</span>, <span class="number">8</span>))</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>)</span><br><span class="line"><span class="comment"># rugplot 往往是在scatterplot的基础之上绘制的</span></span><br><span class="line">sns.scatterplot(data=tips, x=<span class="string">&quot;total_bill&quot;</span>, y=<span class="string">&quot;tip&quot;</span>, hue=<span class="string">&quot;time&quot;</span>)</span><br><span class="line">sns.rugplot(data=tips, x=<span class="string">&quot;total_bill&quot;</span>, y=<span class="string">&quot;tip&quot;</span>, hue=<span class="string">&quot;time&quot;</span>, height=<span class="number">0.05</span>)</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line"><span class="comment"># 在面对大数据集时，需要适当的将线条粗细降低，将线条透明度调高</span></span><br><span class="line">diamonds = sns.load_dataset(<span class="string">&quot;diamonds&quot;</span>)</span><br><span class="line">sns.scatterplot(data=diamonds, x=<span class="string">&quot;carat&quot;</span>, y=<span class="string">&quot;price&quot;</span>, s=<span class="number">5</span>)</span><br><span class="line">sns.rugplot(data=diamonds, x=<span class="string">&quot;carat&quot;</span>, y=<span class="string">&quot;price&quot;</span>, lw=<span class="number">1</span>, alpha=<span class="number">.005</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230827180211885.png" alt="image-20230827180211885" style="zoom:25%;" /></p>
<h5 id="2-1-3-分类数据型"><a href="#2-1-3-分类数据型" class="headerlink" title="2.1.3 分类数据型"></a>2.1.3 分类数据型</h5><h6 id="2-1-3-1-stripplot"><a href="#2-1-3-1-stripplot" class="headerlink" title="2.1.3.1 stripplot()"></a>2.1.3.1 <code>stripplot()</code></h6><blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">stripplot</span>(<span class="params"></span></span><br><span class="line"><span class="params">    *,</span></span><br><span class="line"><span class="params">    x=<span class="literal">None</span>, y=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">    hue=<span class="literal">None</span>, data=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">    order=<span class="literal">None</span>, hue_order=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">    jitter=<span class="literal">True</span>, dodge=<span class="literal">False</span>, orient=<span class="literal">None</span>, color=<span class="literal">None</span>, palette=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">    size=<span class="number">5</span>, edgecolor=<span class="string">&quot;gray&quot;</span>, linewidth=<span class="number">0</span>, ax=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">    **kwargs</span></span><br><span class="line"><span class="params"></span>): ...</span><br></pre></td></tr></table></figure>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.figure(dpi=<span class="number">300</span>, figsize=(<span class="number">16</span>, <span class="number">8</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加类别</span></span><br><span class="line">plt.subplot(<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>)</span><br><span class="line">sns.stripplot(data=tips, x=<span class="string">&quot;total_bill&quot;</span>, y=<span class="string">&quot;day&quot;</span>, hue=<span class="string">&quot;sex&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置 dodge 为 True 以做到不同 hue 的分离，调整 jitter 为 False 使得数据点纵向不堆叠</span></span><br><span class="line">plt.subplot(<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">sns.stripplot(data=tips, x=<span class="string">&quot;total_bill&quot;</span>, y=<span class="string">&quot;day&quot;</span>, hue=<span class="string">&quot;sex&quot;</span>, dodge=<span class="literal">True</span>, jitter=<span class="literal">False</span></span><br><span class="line">             ， marker=<span class="string">&#x27;D&#x27;</span>, alpha=<span class="number">.1</span>, s = <span class="number">10</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230827183617984.png" alt="image-20230827183617984" style="zoom:25%;" /></p>
<h6 id="2-1-3-2-swarmplot"><a href="#2-1-3-2-swarmplot" class="headerlink" title="2.1.3.2 swarmplot()"></a>2.1.3.2 <code>swarmplot()</code></h6><blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">swarmplot</span>(<span class="params"></span></span><br><span class="line"><span class="params">    *,</span></span><br><span class="line"><span class="params">    x=<span class="literal">None</span>, y=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">    hue=<span class="literal">None</span>, data=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">    order=<span class="literal">None</span>, hue_order=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">    dodge=<span class="literal">False</span>, orient=<span class="literal">None</span>, color=<span class="literal">None</span>, palette=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">    size=<span class="number">5</span>, edgecolor=<span class="string">&quot;gray&quot;</span>, linewidth=<span class="number">0</span>, ax=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">    **kwargs</span></span><br><span class="line"><span class="params"></span>): ...</span><br></pre></td></tr></table></figure>
</blockquote>
<h6 id="2-1-3-3-boxplot"><a href="#2-1-3-3-boxplot" class="headerlink" title="2.1.3.3 boxplot()"></a>2.1.3.3 <code>boxplot()</code></h6><blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">boxplot</span>(<span class="params"></span></span><br><span class="line"><span class="params">    *,</span></span><br><span class="line"><span class="params">    x=<span class="literal">None</span>, y=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">    hue=<span class="literal">None</span>, data=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">    order=<span class="literal">None</span>, hue_order=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">    orient=<span class="literal">None</span>, color=<span class="literal">None</span>, palette=<span class="literal">None</span>, saturation=<span class="number">.75</span>,</span></span><br><span class="line"><span class="params">    width=<span class="number">.8</span>, dodge=<span class="literal">True</span>, fliersize=<span class="number">5</span>, linewidth=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">    whis=<span class="number">1.5</span>, ax=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">    **kwargs</span></span><br><span class="line"><span class="params"></span>): ...</span><br></pre></td></tr></table></figure>
</blockquote>
<p>箱线图可以显示数据的主要统计量，如中位数、四分位数、离群值等，如下图所示。</p>
<p><img src="/img/v2-3842ad8ae47b60c65113dd32f680cc77_1440w.webp" alt="img" style="zoom:25%;" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df = sns.load_dataset(<span class="string">&quot;titanic&quot;</span>)</span><br><span class="line">plt.figure(dpi=<span class="number">300</span>, figsize=(<span class="number">16</span>, <span class="number">8</span>))</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>)</span><br><span class="line">sns.boxplot(data=df, x=<span class="string">&quot;fare&quot;</span>, y=<span class="string">&quot;deck&quot;</span>, hue=<span class="string">&quot;deck&quot;</span>, dodge=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">sns.boxplot(</span><br><span class="line">    data=df, x=<span class="string">&quot;age&quot;</span>, y=<span class="string">&quot;class&quot;</span>,</span><br><span class="line">    notch=<span class="literal">True</span>, 								<span class="comment"># 将箱线图类型设置为“葫芦”的形状</span></span><br><span class="line">    showcaps=<span class="literal">False</span>,								<span class="comment"># 是否显示头尾两条垂直线</span></span><br><span class="line">    flierprops=&#123;<span class="string">&quot;marker&quot;</span>: <span class="string">&quot;x&quot;</span>&#125;,					<span class="comment"># 设置离群值点属性</span></span><br><span class="line">    boxprops=&#123;<span class="string">&quot;facecolor&quot;</span>: (<span class="number">.4</span>, <span class="number">.6</span>, <span class="number">.8</span>, <span class="number">.5</span>)&#125;,	<span class="comment"># 设置颜色，分别为 RGB 和透明度</span></span><br><span class="line">    medianprops=&#123;<span class="string">&quot;color&quot;</span>: <span class="string">&quot;coral&quot;</span>&#125;,				<span class="comment"># 设置中位数属性</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230827184512858.png" alt="image-20230827184512858" style="zoom:25%;" /></p>
<h6 id="2-1-3-4-violinplot"><a href="#2-1-3-4-violinplot" class="headerlink" title="2.1.3.4 violinplot()"></a>2.1.3.4 <code>violinplot()</code></h6><blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">&gt;<span class="keyword">def</span> <span class="title function_">violinplot</span>(<span class="params"></span></span><br><span class="line"><span class="params">   *,</span></span><br><span class="line"><span class="params">   x=<span class="literal">None</span>, y=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">   hue=<span class="literal">None</span>, data=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">   order=<span class="literal">None</span>, hue_order=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">   bw=<span class="string">&quot;scott&quot;</span>, cut=<span class="number">2</span>, scale=<span class="string">&quot;area&quot;</span>, scale_hue=<span class="literal">True</span>, gridsize=<span class="number">100</span>,</span></span><br><span class="line"><span class="params">   width=<span class="number">.8</span>, inner=<span class="string">&quot;box&quot;</span>, split=<span class="literal">False</span>, dodge=<span class="literal">True</span>, orient=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">   linewidth=<span class="literal">None</span>, color=<span class="literal">None</span>, palette=<span class="literal">None</span>, saturation=<span class="number">.75</span>,</span></span><br><span class="line"><span class="params">   ax=<span class="literal">None</span>, **kwargs,</span></span><br><span class="line"><span class="params">&gt;</span>): ...</span><br></pre></td></tr></table></figure>
</blockquote>
<p>提琴图除了拥有箱线图的优点以外还可以很好的反应数据的分布特征</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df = sns.load_dataset(<span class="string">&quot;titanic&quot;</span>)</span><br><span class="line">plt.figure(dpi=<span class="number">300</span>, figsize=(<span class="number">16</span>, <span class="number">16</span>))</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>)</span><br><span class="line">sns.violinplot(data=df, x=<span class="string">&quot;deck&quot;</span>, y=<span class="string">&quot;age&quot;</span>, hue=<span class="string">&quot;alive&quot;</span>, split=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 画密度线</span></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">sns.violinplot(data=df, x=<span class="string">&quot;deck&quot;</span>, y=<span class="string">&quot;age&quot;</span>, hue=<span class="string">&quot;alive&quot;</span>, split=<span class="literal">True</span>, inner=<span class="string">&quot;stick&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 四分位数</span></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">sns.violinplot(data=df, x=<span class="string">&quot;deck&quot;</span>, y=<span class="string">&quot;age&quot;</span>, hue=<span class="string">&quot;alive&quot;</span>, split=<span class="literal">True</span>, inner=<span class="string">&quot;quartile&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 画独立实验点 (Individual Observartions)</span></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">4</span>)</span><br><span class="line">sns.violinplot(data=df, x=<span class="string">&quot;deck&quot;</span>, y=<span class="string">&quot;age&quot;</span>, hue=<span class="string">&quot;alive&quot;</span>, split=<span class="literal">True</span>, inner=<span class="string">&quot;point&quot;</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230827185201016.png" alt="image-20230827185201016" style="zoom:25%;" /></p>
<p>p.s. 这玩意儿感觉有点像涡虫（下图，还怪可爱的）</p>
<p><img src="/img/image-20230827185753928.png" alt="image-20230827185753928" style="zoom:25%;" /></p>
<h6 id="2-1-3-5-boxenplot"><a href="#2-1-3-5-boxenplot" class="headerlink" title="2.1.3.5 boxenplot()"></a>2.1.3.5 <a target="_blank" rel="noopener" href="https://vita.had.co.nz/papers/letter-value-plot.pdf"><code>boxenplot()</code></a></h6><blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">boxenplot</span>(<span class="params"></span></span><br><span class="line"><span class="params">       *,</span></span><br><span class="line"><span class="params">       x=<span class="literal">None</span>, y=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">       hue=<span class="literal">None</span>, data=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">       order=<span class="literal">None</span>, hue_order=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">       orient=<span class="literal">None</span>, color=<span class="literal">None</span>, palette=<span class="literal">None</span>, saturation=<span class="number">.75</span>,</span></span><br><span class="line"><span class="params">       width=<span class="number">.8</span>, dodge=<span class="literal">True</span>, k_depth=<span class="string">&#x27;tukey&#x27;</span>, linewidth=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">       scale=<span class="string">&#x27;exponential&#x27;</span>, outlier_prop=<span class="number">0.007</span>, trust_alpha=<span class="number">0.05</span>, showfliers=<span class="literal">True</span>,</span></span><br><span class="line"><span class="params">       ax=<span class="literal">None</span>, **kwargs</span></span><br><span class="line"><span class="params"></span>): ...</span><br></pre></td></tr></table></figure>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df = sns.load_dataset(<span class="string">&quot;diamonds&quot;</span>)</span><br><span class="line">plt.figure(dpi=<span class="number">300</span>, figsize=(<span class="number">16</span>, <span class="number">8</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 调整每个箱的宽度</span></span><br><span class="line">plt.subplot(<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>)</span><br><span class="line">sns.boxenplot(data=df, x=<span class="string">&quot;carat&quot;</span>, y=<span class="string">&quot;cut&quot;</span>, scale=<span class="string">&quot;linear&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 调整箱的个数</span></span><br><span class="line">plt.subplot(<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">sns.boxenplot(data=df, x=<span class="string">&quot;carat&quot;</span>, y=<span class="string">&quot;cut&quot;</span>, k_depth=<span class="string">&quot;trustworthy&quot;</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230827190934393.png" alt="image-20230827190934393" style="zoom:25%;" /></p>
<h6 id="2-1-3-6-pointplot"><a href="#2-1-3-6-pointplot" class="headerlink" title="2.1.3.6 pointplot()"></a>2.1.3.6 <code>pointplot()</code></h6><blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">pointplot</span>(<span class="params"></span></span><br><span class="line"><span class="params">    data=<span class="literal">None</span>, *, x=<span class="literal">None</span>, y=<span class="literal">None</span>, hue=<span class="literal">None</span>, order=<span class="literal">None</span>, hue_order=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">    estimator=<span class="string">&quot;mean&quot;</span>, errorbar=(<span class="params"><span class="string">&quot;ci&quot;</span>, <span class="number">95</span></span>), n_boot=<span class="number">1000</span>, units=<span class="literal">None</span>, seed=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">    markers=<span class="string">&quot;o&quot;</span>, linestyles=<span class="string">&quot;-&quot;</span>, dodge=<span class="literal">False</span>, join=<span class="literal">True</span>, scale=<span class="number">1</span>,</span></span><br><span class="line"><span class="params">    orient=<span class="literal">None</span>, color=<span class="literal">None</span>, palette=<span class="literal">None</span>, errwidth=<span class="literal">None</span>, ci=<span class="string">&quot;deprecated&quot;</span>,</span></span><br><span class="line"><span class="params">    capsize=<span class="literal">None</span>, label=<span class="literal">None</span>, ax=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params"></span>):...</span><br></pre></td></tr></table></figure>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df = sns.load_dataset(<span class="string">&quot;penguins&quot;</span>)</span><br><span class="line"></span><br><span class="line">plt.figure(dpi=<span class="number">300</span>, figsize=(<span class="number">16</span>, <span class="number">16</span>))</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>)</span><br><span class="line">sns.pointplot(data=df, x=<span class="string">&quot;island&quot;</span>, y=<span class="string">&quot;body_mass_g&quot;</span>)</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">sns.pointplot(data=df, x=<span class="string">&quot;island&quot;</span>, y=<span class="string">&quot;body_mass_g&quot;</span>, hue=<span class="string">&quot;sex&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用标准差绘制误差线</span></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">sns.pointplot(data=df, x=<span class="string">&quot;sex&quot;</span>, y=<span class="string">&quot;body_mass_g&quot;</span>, hue=<span class="string">&quot;island&quot;</span>, dodge=<span class="literal">True</span>, errorbar=<span class="string">&quot;sd&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 自定义一些图形参数</span></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">4</span>)</span><br><span class="line">sns.pointplot(data=df, x=<span class="string">&quot;body_mass_g&quot;</span>, y=<span class="string">&quot;island&quot;</span>, errorbar=(<span class="string">&quot;pi&quot;</span>, <span class="number">100</span>),</span><br><span class="line">              capsize=<span class="number">.4</span>, </span><br><span class="line">              join=<span class="literal">False</span>,</span><br><span class="line">              color=<span class="string">&quot;.5&quot;</span></span><br><span class="line">              )</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230829164833094.png" alt="image-20230829164833094" style="zoom:25%;" /></p>
<h6 id="2-1-3-7-barplot"><a href="#2-1-3-7-barplot" class="headerlink" title="2.1.3.7 barplot()"></a>2.1.3.7 <code>barplot()</code></h6><blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">barplot</span>(<span class="params"></span></span><br><span class="line"><span class="params">    data=<span class="literal">None</span>, *, x=<span class="literal">None</span>, y=<span class="literal">None</span>, hue=<span class="literal">None</span>, order=<span class="literal">None</span>, hue_order=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">    estimator=<span class="string">&quot;mean&quot;</span>, errorbar=(<span class="params"><span class="string">&quot;ci&quot;</span>, <span class="number">95</span></span>), n_boot=<span class="number">1000</span>, units=<span class="literal">None</span>, seed=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">    orient=<span class="literal">None</span>, color=<span class="literal">None</span>, palette=<span class="literal">None</span>, saturation=<span class="number">.75</span>, width=<span class="number">.8</span>,</span></span><br><span class="line"><span class="params">    errcolor=<span class="string">&quot;.26&quot;</span>, errwidth=<span class="literal">None</span>, capsize=<span class="literal">None</span>, dodge=<span class="literal">True</span>, ci=<span class="string">&quot;deprecated&quot;</span>,</span></span><br><span class="line"><span class="params">    ax=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">    **kwargs,</span></span><br><span class="line"><span class="params"></span>):...</span><br></pre></td></tr></table></figure>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df = sns.load_dataset(<span class="string">&quot;penguins&quot;</span>)</span><br><span class="line"></span><br><span class="line">plt.figure(dpi=<span class="number">300</span>, figsize=(<span class="number">16</span>, <span class="number">16</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 其使用方法和 pointplot 类似</span></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>)</span><br><span class="line">sns.barplot(data=df, x=<span class="string">&quot;island&quot;</span>, y=<span class="string">&quot;body_mass_g&quot;</span>)</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">sns.barplot(data=df, x=<span class="string">&quot;island&quot;</span>, y=<span class="string">&quot;body_mass_g&quot;</span>, hue=<span class="string">&quot;sex&quot;</span>)</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">sns.barplot(data=df, x=<span class="string">&quot;sex&quot;</span>, y=<span class="string">&quot;body_mass_g&quot;</span>, hue=<span class="string">&quot;island&quot;</span>, dodge=<span class="literal">True</span>, errorbar=<span class="string">&quot;sd&quot;</span>)</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">4</span>)</span><br><span class="line">sns.barplot(data=df, x=<span class="string">&quot;body_mass_g&quot;</span>, y=<span class="string">&quot;island&quot;</span>, errorbar=(<span class="string">&quot;pi&quot;</span>, <span class="number">100</span>),</span><br><span class="line">              capsize=<span class="number">.4</span>, </span><br><span class="line">              edgecolor=<span class="string">&quot;.5&quot;</span>,</span><br><span class="line">              errcolor=<span class="string">&quot;.5&quot;</span>,</span><br><span class="line">              facecolor=(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">              )</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230829165215794.png" alt="image-20230829165215794" style="zoom:25%;" /></p>
<h6 id="2-1-3-8-countplot"><a href="#2-1-3-8-countplot" class="headerlink" title="2.1.3.8 countplot()"></a>2.1.3.8 <code>countplot()</code></h6><blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">countplot</span>(<span class="params"></span></span><br><span class="line"><span class="params">    data=<span class="literal">None</span>, *, x=<span class="literal">None</span>, y=<span class="literal">None</span>, hue=<span class="literal">None</span>, order=<span class="literal">None</span>, hue_order=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">    orient=<span class="literal">None</span>, color=<span class="literal">None</span>, palette=<span class="literal">None</span>, saturation=<span class="number">.75</span>, width=<span class="number">.8</span>,</span></span><br><span class="line"><span class="params">    dodge=<span class="literal">True</span>, ax=<span class="literal">None</span>, **kwargs</span></span><br><span class="line"><span class="params"></span>):...</span><br></pre></td></tr></table></figure>
</blockquote>
<p>相比之下 <code>countplot()</code> 的使用就更加简单：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">sns.set_theme(style=<span class="string">&quot;whitegrid&quot;</span>)</span><br><span class="line"></span><br><span class="line">df = sns.load_dataset(<span class="string">&quot;titanic&quot;</span>)</span><br><span class="line"></span><br><span class="line">plt.figure(dpi=<span class="number">300</span>, figsize=(<span class="number">16</span>, <span class="number">8</span>))</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>)</span><br><span class="line">sns.countplot(data=df, x=<span class="string">&quot;class&quot;</span>, hue=<span class="string">&quot;alive&quot;</span>)</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">sns.countplot(data=df, y=<span class="string">&quot;deck&quot;</span>, hue=<span class="string">&quot;alive&quot;</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230829165539995.png" alt="image-20230829165539995" style="zoom:25%;" /></p>
<h5 id="2-1-4-回归模型分析型"><a href="#2-1-4-回归模型分析型" class="headerlink" title="2.1.4 回归模型分析型"></a>2.1.4 回归模型分析型</h5><h6 id="2-1-4-1-lmplot"><a href="#2-1-4-1-lmplot" class="headerlink" title="2.1.4.1 lmplot()"></a>2.1.4.1 <code>lmplot()</code></h6><p>该函数在绘制数据散点的同时对其调用回归模型对其进行拟合，它结合了<code>regplot()</code>和<code>FacetGrid()</code>，从其参数列表也可以看出。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">penguins = sns.load_dataset(<span class="string">&quot;penguins&quot;</span>)</span><br><span class="line"></span><br><span class="line">sns.lmplot(data=penguins, x=<span class="string">&quot;bill_length_mm&quot;</span>, y=<span class="string">&quot;bill_depth_mm&quot;</span>, hue=<span class="string">&quot;species&quot;</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230829170126762.png" alt="image-20230829170126762" style="zoom:50%;" /></p>
<p>可以绘制多子图同时观察不同类别下的数据拟合情况</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">sns.lmplot(data=penguins, </span><br><span class="line">           x=<span class="string">&quot;bill_length_mm&quot;</span>,</span><br><span class="line">           y=<span class="string">&quot;bill_depth_mm&quot;</span>,</span><br><span class="line">           hue=<span class="string">&quot;species&quot;</span>,</span><br><span class="line">           col=<span class="string">&quot;sex&quot;</span>,</span><br><span class="line">           height=<span class="number">8</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230829170327203.png" alt="image-20230829170327203" style="zoom:50%;" /></p>
<h6 id="2-1-4-2-regplot"><a href="#2-1-4-2-regplot" class="headerlink" title="2.1.4.2 regplot()"></a>2.1.4.2 <code>regplot()</code></h6><p><code>lmplot()</code>以涵盖其全部功能，故不再赘述</p>
<h6 id="2-1-4-3-residplot"><a href="#2-1-4-3-residplot" class="headerlink" title="2.1.4.3 residplot()"></a>2.1.4.3 <code>residplot()</code></h6><p><code>residplot()</code>绘制你和结果的残差。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">mpg = sns.load_dataset(<span class="string">&quot;mpg&quot;</span>)</span><br><span class="line"></span><br><span class="line">plt.figure(dpi=<span class="number">300</span>, figsize=(<span class="number">16</span>, <span class="number">8</span>))</span><br><span class="line">plt.subplot(<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>)</span><br><span class="line">plt.title(<span class="string">&quot;regplot()&quot;</span>)</span><br><span class="line">sns.regplot(data=mpg, x=<span class="string">&quot;weight&quot;</span>, y=<span class="string">&quot;displacement&quot;</span>)</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">plt.title(<span class="string">&quot;residplot()&quot;</span>)</span><br><span class="line">sns.residplot(data=mpg, </span><br><span class="line">              x=<span class="string">&quot;weight&quot;</span>, </span><br><span class="line">              y=<span class="string">&quot;displacement&quot;</span>,</span><br><span class="line">              order=<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230829171407772.png" alt="image-20230829171407772" style="zoom:25%;" /></p>
<h4 id="2-2-多子图网格型图"><a href="#2-2-多子图网格型图" class="headerlink" title="2.2 多子图网格型图"></a>2.2 多子图网格型图</h4><h5 id="2-2-1-FacetGrid-类"><a href="#2-2-1-FacetGrid-类" class="headerlink" title="2.2.1 FacetGrid 类"></a>2.2.1 <code>FacetGrid</code> 类</h5><div class="table-container">
<table>
<thead>
<tr>
<th>Methods or Attributes</th>
<th>Type</th>
<th>Functionality</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>__init__</code></td>
<td>Method</td>
<td>初始化<code>matplotlib</code>的<code>figure</code>以及<code>FaceGrid</code>对象</td>
</tr>
<tr>
<td><code>add_lengnd</code></td>
<td>Method</td>
<td>绘制图例</td>
</tr>
<tr>
<td><code>apply</code></td>
<td>Method</td>
<td>将<code>grid</code>传给某个用户自定义函数，然后返回自身</td>
</tr>
<tr>
<td><code>dspine</code></td>
<td>Method</td>
<td>去除坐标轴</td>
</tr>
<tr>
<td><code>facet_axis</code></td>
<td>Method</td>
<td>返回某一个<code>axis</code></td>
</tr>
<tr>
<td><code>facet_data</code></td>
<td>Method</td>
<td>返回含有所有<code>facet</code>的数据和具名<code>indices</code>的生成器</td>
</tr>
<tr>
<td><code>map</code></td>
<td>Method</td>
<td>调用某一个绘图函数作用于<code>facet</code>中的数据的一个子集</td>
</tr>
<tr>
<td><code>map_dataframe</code></td>
<td>Method</td>
<td>与<code>.map</code>类似</td>
</tr>
<tr>
<td><code>pipe</code></td>
<td>Method</td>
<td>将<code>grid</code>传入一个用户自定义函数并返回对应的值</td>
</tr>
<tr>
<td><code>refline</code></td>
<td>Method</td>
<td>在每个子图中添加参考线</td>
</tr>
<tr>
<td><code>savefig</code></td>
<td>Method</td>
<td>存储绘图结果</td>
</tr>
<tr>
<td><code>set</code></td>
<td>Method</td>
<td>设置每个子图<code>Axes</code>的参数</td>
</tr>
<tr>
<td><code>set_axis_labels</code></td>
<td>Method</td>
<td>设置子图的两轴标签</td>
</tr>
<tr>
<td><code>set_titles</code></td>
<td>Method</td>
<td>设置子图标题</td>
</tr>
<tr>
<td><code>set_xlabels</code> / <code>set_ylabels</code></td>
<td>Method</td>
<td>设置子图的<code>x</code>轴或<code>y</code>轴标签</td>
</tr>
<tr>
<td><code>set_xticklabels</code> / <code>set_yticklabels</code></td>
<td>Method</td>
<td>设置子图的<code>x</code>轴或<code>y</code>轴刻度标签</td>
</tr>
<tr>
<td><code>tick_params</code></td>
<td>Method</td>
<td>设置刻度参数</td>
</tr>
<tr>
<td><code>tight_layout</code></td>
<td>Method</td>
<td>调整子图的布局</td>
</tr>
<tr>
<td><code>ax</code></td>
<td>Attribute</td>
<td>未设置<code>facet</code>变量时的<code>Axes</code></td>
</tr>
<tr>
<td><code>axes</code></td>
<td>Attribute</td>
<td><code>Axes</code>数组</td>
</tr>
<tr>
<td><code>axes_dict</code></td>
<td>Attribute</td>
<td>包含<code>Axes</code>的字典</td>
</tr>
<tr>
<td><code>figure</code></td>
<td>Attribute</td>
<td>可通过此调整<code>grid</code>背后的<code>mpl.figure.Figure</code>对象</td>
</tr>
<tr>
<td><code>legend</code></td>
<td>Attribute</td>
<td>可通过此调整<code>mpl.legend.Legend</code>对象</td>
</tr>
</tbody>
</table>
</div>
<p><strong><code>__init__()</code></strong></p>
<blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params"></span></span><br><span class="line"><span class="params">        self, data, *,</span></span><br><span class="line"><span class="params">        row=<span class="literal">None</span>, col=<span class="literal">None</span>, hue=<span class="literal">None</span>, col_wrap=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        sharex=<span class="literal">True</span>, sharey=<span class="literal">True</span>, height=<span class="number">3</span>, aspect=<span class="number">1</span>, palette=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        row_order=<span class="literal">None</span>, col_order=<span class="literal">None</span>, hue_order=<span class="literal">None</span>, hue_kws=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        dropna=<span class="literal">False</span>, legend_out=<span class="literal">True</span>, despine=<span class="literal">True</span>,</span></span><br><span class="line"><span class="params">        margin_titles=<span class="literal">False</span>, xlim=<span class="literal">None</span>, ylim=<span class="literal">None</span>, subplot_kws=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        gridspec_kws=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">    </span>):...</span><br></pre></td></tr></table></figure>
</blockquote>
<p><strong>示例</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">tips = sns.load_dataset(<span class="string">&quot;tips&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">annotate</span>(<span class="params">data, **kws</span>):</span><br><span class="line">    n = <span class="built_in">len</span>(data)</span><br><span class="line">    ax = plt.gca()</span><br><span class="line">    ax.text(<span class="number">.1</span>, <span class="number">.6</span>, <span class="string">f&quot;N = <span class="subst">&#123;n&#125;</span>&quot;</span>, transform=ax.transAxes)</span><br><span class="line"></span><br><span class="line">g = sns.FacetGrid(data=tips, col=<span class="string">&quot;time&quot;</span>, row=<span class="string">&quot;sex&quot;</span>, margin_titles=<span class="literal">True</span>)</span><br><span class="line">g.set_titles(col_template=<span class="string">&quot;&#123;col_name&#125;&quot;</span>, row_template=<span class="string">&quot;&#123;row_name&#125;&quot;</span>)</span><br><span class="line">g.map_dataframe(sns.scatterplot, x=<span class="string">&quot;total_bill&quot;</span>, y=<span class="string">&quot;tip&quot;</span>, hue=<span class="string">&quot;sex&quot;</span>)</span><br><span class="line">g.map_dataframe(annotate)</span><br><span class="line">g.add_legend()</span><br><span class="line">g.refline(y=tips[<span class="string">&quot;tip&quot;</span>].median())</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230829174634490.png" alt="image-20230829174634490" style="zoom:67%;" /></p>
<h5 id="2-2-2-PairGrid-类"><a href="#2-2-2-PairGrid-类" class="headerlink" title="2.2.2 PairGrid 类"></a>2.2.2 <code>PairGrid</code> 类</h5><div class="table-container">
<table>
<thead>
<tr>
<th>Methods or Attributes</th>
<th>Type</th>
<th>Functionality</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>__init__</code></td>
<td>Method</td>
<td>初始化<code>matplotlib</code>的<code>figure</code>以及<code>FaceGrid</code>对象</td>
</tr>
<tr>
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
<tr>
<td><code>map_diag</code></td>
<td>Method</td>
<td>将绘图函数作用于对角线的子图</td>
</tr>
<tr>
<td><code>map_lower</code></td>
<td>Method</td>
<td>将函数作用于下三角部分的子图（不包括对角线）</td>
</tr>
<tr>
<td><code>map_upper</code></td>
<td>Method</td>
<td>将函数作用于上三角部分的子图（不包括对角线）</td>
</tr>
<tr>
<td><code>map_offdiag</code></td>
<td>Method</td>
<td>将函数作用域除对角线以外的所有子图</td>
</tr>
<tr>
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
</tbody>
</table>
</div>
<p><strong><code>__init__</code></strong></p>
<blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params"></span></span><br><span class="line"><span class="params">        self, data, *, hue=<span class="literal">None</span>, <span class="built_in">vars</span>=<span class="literal">None</span>, x_vars=<span class="literal">None</span>, y_vars=<span class="literal">None</span>,</span></span><br><span class="line"><span class="params">        hue_order=<span class="literal">None</span>, palette=<span class="literal">None</span>, hue_kws=<span class="literal">None</span>, corner=<span class="literal">False</span>, diag_sharey=<span class="literal">True</span>,</span></span><br><span class="line"><span class="params">        height=<span class="number">2.5</span>, aspect=<span class="number">1</span>, layout_pad=<span class="number">.5</span>, despine=<span class="literal">True</span>, dropna=<span class="literal">False</span>,</span></span><br><span class="line"><span class="params">    </span>):...</span><br></pre></td></tr></table></figure>
</blockquote>
<p><strong>一些示例</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">g = sns.PairGrid(penguins, diag_sharey=<span class="literal">False</span>)</span><br><span class="line">g.map_diag(sns.kdeplot)</span><br><span class="line">g.map_lower(sns.kdeplot)</span><br><span class="line">g.map_upper(sns.scatterplot)</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230829175350442.png" alt="image-20230829175350442" style="zoom:50%;" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 仅仅绘制下三角部分</span></span><br><span class="line">g = sns.PairGrid(penguins, diag_sharey=<span class="literal">False</span>, corner=<span class="literal">True</span>)</span><br><span class="line">g.map_diag(sns.kdeplot)</span><br><span class="line">g.map_lower(sns.kdeplot)</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230829175514974.png" alt="image-20230829175514974" style="zoom:50%;" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 使多个函数作用在某些子图中</span></span><br><span class="line"></span><br><span class="line">g = sns.PairGrid(penguins, hue=<span class="string">&quot;species&quot;</span>)</span><br><span class="line">g.map_diag(sns.histplot)</span><br><span class="line">g.map_offdiag(sns.scatterplot, size=penguins[<span class="string">&quot;sex&quot;</span>])</span><br><span class="line">g.add_legend(title=<span class="string">&quot;&quot;</span>, adjust_subtitles=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230829175625563.png" alt="image-20230829175625563" style="zoom:50%;" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 设置不同子图的 hue</span></span><br><span class="line"><span class="comment"># 并使用 variables 控制传入的变量</span></span><br><span class="line"></span><br><span class="line">x_vars = [<span class="string">&quot;body_mass_g&quot;</span>, <span class="string">&quot;bill_length_mm&quot;</span>, <span class="string">&quot;flipper_length_mm&quot;</span>]</span><br><span class="line">y_vars = [<span class="string">&quot;body_mass_g&quot;</span>, <span class="string">&quot;bill_length_mm&quot;</span>]</span><br><span class="line"></span><br><span class="line">g = sns.PairGrid(penguins, hue=<span class="string">&quot;body_mass_g&quot;</span>, x_vars=x_vars, y_vars=y_vars)</span><br><span class="line">g.map_diag(sns.histplot, hue=<span class="literal">None</span>, color=<span class="string">&quot;.3&quot;</span>)</span><br><span class="line">g.map_offdiag(sns.scatterplot)</span><br><span class="line">g.add_legend()</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230829180023019.png" alt="image-20230829180023019" style="zoom:50%;" /></p>
<h4 id="2-3-绘图风格、颜色主题和绘图元素缩放比例"><a href="#2-3-绘图风格、颜色主题和绘图元素缩放比例" class="headerlink" title="2.3 绘图风格、颜色主题和绘图元素缩放比例"></a>2.3 绘图风格、颜色主题和绘图元素缩放比例</h4><h5 id="2-3-1-绘图风格"><a href="#2-3-1-绘图风格" class="headerlink" title="2.3.1 绘图风格"></a>2.3.1 绘图风格</h5><h6 id="2-3-1-1-seaborn-set-theme"><a href="#2-3-1-1-seaborn-set-theme" class="headerlink" title="2.3.1.1 seaborn.set_theme()"></a>2.3.1.1 <code>seaborn.set_theme()</code></h6><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">set_theme</span>(<span class="params">context=<span class="string">&quot;notebook&quot;</span>,		<span class="comment"># string or dict; Scaling parameters</span></span></span><br><span class="line"><span class="params">              style=<span class="string">&quot;darkgrid&quot;</span>, 		<span class="comment"># string or dict; Axes style parameters</span></span></span><br><span class="line"><span class="params">              palette=<span class="string">&quot;deep&quot;</span>,				<span class="comment"># string or sequence; Color palette</span></span></span><br><span class="line"><span class="params">              font=<span class="string">&quot;sans-serif&quot;</span>, 		<span class="comment"># Font family; </span></span></span><br><span class="line"><span class="params">              font_scale=<span class="number">1</span>, 				<span class="comment"># float, optional; </span></span></span><br><span class="line"><span class="params">              color_codes=<span class="literal">True</span>, 		<span class="comment"># bool;</span></span></span><br><span class="line"><span class="params">              rc=<span class="literal">None</span>								<span class="comment"># dict or None; matplotlib rc params</span></span></span><br><span class="line"><span class="params">             </span>):...</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df = sns.load_dataset(<span class="string">&quot;penguins&quot;</span>)</span><br><span class="line"></span><br><span class="line">plt.figure(dpi=<span class="number">300</span>, figsize=(<span class="number">16</span>, <span class="number">16</span>))</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>)</span><br><span class="line">sns.barplot(data=df, x=<span class="string">&quot;island&quot;</span>, y=<span class="string">&quot;body_mass_g&quot;</span>)</span><br><span class="line"></span><br><span class="line">sns.set_theme()</span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">sns.barplot(data=df, x=<span class="string">&quot;island&quot;</span>, y=<span class="string">&quot;body_mass_g&quot;</span>)</span><br><span class="line"></span><br><span class="line">sns.set_theme(style=<span class="string">&quot;whitegrid&quot;</span>, palette=<span class="string">&quot;pastel&quot;</span>)</span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">sns.barplot(data=df, x=<span class="string">&quot;island&quot;</span>, y=<span class="string">&quot;body_mass_g&quot;</span>)</span><br><span class="line"></span><br><span class="line">custom_params = &#123;<span class="string">&quot;axes.spines.right&quot;</span>: <span class="literal">False</span>, <span class="string">&quot;axes.spines.top&quot;</span>: <span class="literal">False</span>&#125;</span><br><span class="line">sns.set_theme(style=<span class="string">&quot;ticks&quot;</span>, rc=custom_params)</span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">4</span>)</span><br><span class="line">sns.barplot(data=df, x=<span class="string">&quot;island&quot;</span>, y=<span class="string">&quot;body_mass_g&quot;</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230829185843233.png" alt="image-20230829185843233" style="zoom:25%;" /></p>
<h5 id="2-3-2-颜色主题"><a href="#2-3-2-颜色主题" class="headerlink" title="2.3.2 颜色主题"></a>2.3.2 颜色主题</h5><h6 id="2-3-2-1-应用颜色主题"><a href="#2-3-2-1-应用颜色主题" class="headerlink" title="2.3.2.1 应用颜色主题"></a>2.3.2.1 应用颜色主题</h6><p><img src="/img/image-20230829190002618.png" alt="image-20230829190002618" style="zoom: 50%;" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df = sns.load_dataset(<span class="string">&quot;penguins&quot;</span>)</span><br><span class="line"></span><br><span class="line">plt.figure(dpi=<span class="number">300</span>, figsize=(<span class="number">16</span>, <span class="number">16</span>))</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>)</span><br><span class="line">sns.barplot(data=df, x=<span class="string">&quot;island&quot;</span>, y=<span class="string">&quot;body_mass_g&quot;</span>)</span><br><span class="line"></span><br><span class="line">sns.set_theme(palette=<span class="string">&quot;Accent&quot;</span>)</span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">sns.barplot(data=df, x=<span class="string">&quot;island&quot;</span>, y=<span class="string">&quot;body_mass_g&quot;</span>)</span><br><span class="line"></span><br><span class="line">sns.set_theme(palette=<span class="string">&quot;crest&quot;</span>)</span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">sns.barplot(data=df, x=<span class="string">&quot;island&quot;</span>, y=<span class="string">&quot;body_mass_g&quot;</span>)</span><br><span class="line"></span><br><span class="line">sns.set_theme(palette=<span class="string">&quot;blend:#7AB,#EDA&quot;</span>)</span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">4</span>)</span><br><span class="line">sns.barplot(data=df, x=<span class="string">&quot;island&quot;</span>, y=<span class="string">&quot;body_mass_g&quot;</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230829190333883.png" alt="image-20230829190333883" style="zoom:50%;" /></p>
<h6 id="2-3-2-2-使用-color-palette-自定义色系"><a href="#2-3-2-2-使用-color-palette-自定义色系" class="headerlink" title="2.3.2.2 使用 color_palette() 自定义色系"></a>2.3.2.2 使用 <code>color_palette()</code> 自定义色系</h6><blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">color_palette</span>(<span class="params">palette=<span class="literal">None</span>, </span></span><br><span class="line"><span class="params">                  <span class="comment"># Name of palette or None to return current palette</span></span></span><br><span class="line"><span class="params">                  n_colors=<span class="literal">None</span>, </span></span><br><span class="line"><span class="params">                  <span class="comment"># Number of colors in the palette</span></span></span><br><span class="line"><span class="params">                  desat=<span class="literal">None</span>, </span></span><br><span class="line"><span class="params">                  <span class="comment"># Proportion to desaturate each color by</span></span></span><br><span class="line"><span class="params">                  as_cmap=<span class="literal">False</span></span></span><br><span class="line"><span class="params">                  <span class="comment"># If True, return a `matplotlib.colors.ListedColormap`</span></span></span><br><span class="line"><span class="params">                 </span>):...</span><br></pre></td></tr></table></figure>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">sns.color_palette(<span class="string">&quot;ch:s=.25,rot=.25&quot;</span>)				<span class="comment"># cubehelix color palette</span></span><br><span class="line">sns.color_palette(<span class="string">&quot;light:#5A9&quot;</span>)							<span class="comment"># light sequential gradient</span></span><br><span class="line">sns.color_palette(<span class="string">&quot;dark:#5A9_r&quot;</span>)						<span class="comment"># [reversed] dark sequential gradient</span></span><br><span class="line">sns.color_palette(<span class="string">&quot;blend:#7AB,#EDA&quot;</span>)				<span class="comment"># blend gradient</span></span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230829191148430.png" alt="image-20230829191148430" style="zoom:50%;" /></p>
<p><img src="/img/image-20230829191216420.png" alt="image-20230829191216420" style="zoom:50%;" /></p>
<p><img src="/img/image-20230829191236461.png" alt="image-20230829191236461" style="zoom:50%;" /></p>
<p><img src="/img/image-20230829191256697.png" alt="image-20230829191256697" style="zoom:50%;" /></p>
<h5 id="2-3-3-绘图元素缩放比例"><a href="#2-3-3-绘图元素缩放比例" class="headerlink" title="2.3.3 绘图元素缩放比例"></a>2.3.3 绘图元素缩放比例</h5><p>可以通过设置<code>context</code>参数调整绘图元素的相对大小，参数一共接受一下几种：</p>
<ul>
<li><code>paper</code></li>
<li><code>notebook</code></li>
<li><code>talk</code></li>
<li><code>poster</code></li>
</ul>
<p>绘图元素的缩放比例依次增大。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df = sns.load_dataset(<span class="string">&quot;penguins&quot;</span>)</span><br><span class="line"></span><br><span class="line">plt.figure(dpi=<span class="number">300</span>, figsize=(<span class="number">12</span>, <span class="number">12</span>))</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>)</span><br><span class="line">sns.barplot(data=df, x=<span class="string">&quot;island&quot;</span>, y=<span class="string">&quot;body_mass_g&quot;</span>)</span><br><span class="line">plt.title(<span class="string">&quot;Notebook&quot;</span>)</span><br><span class="line"></span><br><span class="line">sns.set_theme(context=<span class="string">&quot;paper&quot;</span>)</span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">sns.barplot(data=df, x=<span class="string">&quot;island&quot;</span>, y=<span class="string">&quot;body_mass_g&quot;</span>)</span><br><span class="line">plt.title(<span class="string">&quot;Paper&quot;</span>)</span><br><span class="line"></span><br><span class="line">sns.set_theme(context=<span class="string">&quot;talk&quot;</span>)</span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">sns.barplot(data=df, x=<span class="string">&quot;island&quot;</span>, y=<span class="string">&quot;body_mass_g&quot;</span>)</span><br><span class="line">plt.title(<span class="string">&quot;Talk&quot;</span>)</span><br><span class="line"></span><br><span class="line">sns.set_theme(context=<span class="string">&quot;poster&quot;</span>)</span><br><span class="line">plt.subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">4</span>)</span><br><span class="line">sns.barplot(data=df, x=<span class="string">&quot;island&quot;</span>, y=<span class="string">&quot;body_mass_g&quot;</span>)</span><br><span class="line">plt.title(<span class="string">&quot;Poster&quot;</span>)</span><br><span class="line"></span><br><span class="line">plt.tight_layout()</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230829191948327.png" alt="image-20230829191948327" style="zoom:50%;" /></p>
<h3 id="3-Proplot"><a href="#3-Proplot" class="headerlink" title="3 Proplot"></a>3 <code>Proplot</code></h3><h4 id="3-1-多子图绘制处理"><a href="#3-1-多子图绘制处理" class="headerlink" title="3.1 多子图绘制处理"></a>3.1 多子图绘制处理</h4><h5 id="3-1-1-共享轴标签"><a href="#3-1-1-共享轴标签" class="headerlink" title="3.1.1 共享轴标签"></a>3.1.1 共享轴标签</h5><p><code>proplot</code>中的<code>figure()</code>函数中的<code>sharex</code>，<code>sharey</code>和<code>share</code>参数可以控制不同的标签样式</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>可选值</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>0</code> 或 <code>False</code></td>
<td>没有轴标签共享</td>
</tr>
<tr>
<td><code>labels</code> 或 <code>labs</code></td>
<td>仅在子图最下一行或最左一列绘制轴标签</td>
</tr>
<tr>
<td><code>limits</code> 或 <code>lims</code></td>
<td>强制轴范围、比例和刻度位置相同，刻度标签依然在每个子图上都绘制</td>
</tr>
<tr>
<td><code>3</code> 或 <code>True</code></td>
<td>共享轴、刻度标签仅出现在最下一行和/或最左一列</td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> proplot <span class="keyword">as</span> ppl</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> tqdm <span class="keyword">import</span> tqdm</span><br><span class="line"></span><br><span class="line">cmaps = [<span class="string">&#x27;Blues&#x27;</span>, <span class="string">&#x27;BuPu&#x27;</span>, <span class="string">&#x27;binary&#x27;</span>,</span><br><span class="line">         <span class="string">&#x27;OrRd&#x27;</span>,  <span class="string">&#x27;RdYlGn&#x27;</span>, <span class="string">&#x27;seismic&#x27;</span>,</span><br><span class="line">         <span class="string">&#x27;summer&#x27;</span>, <span class="string">&#x27;turbo&#x27;</span>, <span class="string">&#x27;twilight&#x27;</span>]</span><br><span class="line"></span><br><span class="line">plt.figure(figsize=(<span class="number">20</span>, <span class="number">16</span>), dpi=<span class="number">300</span>)</span><br><span class="line">ppl.figure(share=<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> idx, cmap <span class="keyword">in</span> tqdm(<span class="built_in">enumerate</span>(cmaps)):</span><br><span class="line">    xs = np.random.randn(<span class="number">100</span>) * np.random.randint(<span class="number">2</span>, <span class="number">100</span>)</span><br><span class="line">    ys = np.random.randn(<span class="number">100</span>) * np.random.randint(<span class="number">2</span>, <span class="number">100</span>)</span><br><span class="line">    size_marker = np.random.rand(<span class="number">100</span>) &gt; <span class="number">0.5</span></span><br><span class="line">    s = <span class="number">40</span> - <span class="number">20</span> * size_marker</span><br><span class="line">    </span><br><span class="line">    deg = <span class="number">1</span> / (xs ** <span class="number">2</span> + ys ** <span class="number">2</span> + <span class="number">1</span>)</span><br><span class="line">    ax = plt.subplot(<span class="number">3</span>, <span class="number">3</span>, idx+<span class="number">1</span>)</span><br><span class="line">    </span><br><span class="line">    ax = plt.scatter(xs, ys, c=deg, s=s ,cmap=cmap, linewidth=size_marker, edgecolor=<span class="string">&quot;None&quot;</span>, zorder=-<span class="number">10</span>);</span><br><span class="line">    <span class="comment"># plt.colorbar(ax)</span></span><br><span class="line">    ax = plt.scatter(xs[size_marker], ys[size_marker], </span><br><span class="line">                     c=<span class="string">&quot;None&quot;</span>, s=<span class="number">20</span>, linewidth=<span class="number">1</span>, edgecolor=<span class="string">&quot;gray&quot;</span>, zorder=-<span class="number">15</span>, label=<span class="string">&quot;Type A&quot;</span>);</span><br><span class="line">    ax = plt.scatter(xs[~size_marker], ys[~size_marker], </span><br><span class="line">                     c=<span class="string">&quot;None&quot;</span>, s=<span class="number">40</span>, linewidth=<span class="number">1</span>, edgecolor=<span class="string">&quot;gray&quot;</span>, zorder=-<span class="number">15</span>, label=<span class="string">&quot;Type B&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    plt.legend(loc=<span class="string">&quot;upper right&quot;</span>)</span><br><span class="line">    plt.grid(alpha=<span class="number">0.6</span>, zorder=-<span class="number">20</span>)</span><br><span class="line">    plt.title(cmap)</span><br><span class="line"></span><br><span class="line">plt.tight_layout()</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230829194948627.png" alt="image-20230829194948627" style="zoom: 50%;" /></p>
<h5 id="3-1-2-”跨度“轴标签"><a href="#3-1-2-”跨度“轴标签" class="headerlink" title="3.1.2 ”跨度“轴标签"></a>3.1.2 ”跨度“轴标签</h5><p>绘制多子图是常常需要在多个子图的两轴重复绘制相同的标签，但要在 <code>matplotlib</code> 中强制绘制居中的共有标签比较困难。<code>proplot</code>中<code>figure()</code>函数提供<code>spanx</code>，<code>spany</code>，<code>span</code>用于控制是否在<code>x</code>轴、<code>y</code>轴或两轴使用”跨度“轴标签。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> proplot <span class="keyword">as</span> ppl</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> tqdm <span class="keyword">import</span> tqdm</span><br><span class="line"></span><br><span class="line">cmaps = [<span class="string">&#x27;Blues&#x27;</span>, <span class="string">&#x27;BuPu&#x27;</span>, <span class="string">&#x27;binary&#x27;</span>,</span><br><span class="line">         <span class="string">&#x27;OrRd&#x27;</span>,  <span class="string">&#x27;RdYlGn&#x27;</span>, <span class="string">&#x27;seismic&#x27;</span>,</span><br><span class="line">         <span class="string">&#x27;summer&#x27;</span>, <span class="string">&#x27;turbo&#x27;</span>, <span class="string">&#x27;twilight&#x27;</span>]</span><br><span class="line"></span><br><span class="line">plt.figure(figsize=(<span class="number">20</span>, <span class="number">16</span>), dpi=<span class="number">300</span>)</span><br><span class="line">ppl.figure(share=<span class="number">3</span>, span=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> idx, cmap <span class="keyword">in</span> tqdm(<span class="built_in">enumerate</span>(cmaps)):</span><br><span class="line">    xs = np.random.randn(<span class="number">100</span>) * np.random.randint(<span class="number">2</span>, <span class="number">100</span>)</span><br><span class="line">    ys = np.random.randn(<span class="number">100</span>) * np.random.randint(<span class="number">2</span>, <span class="number">100</span>)</span><br><span class="line">    size_marker = np.random.rand(<span class="number">100</span>) &gt; <span class="number">0.5</span></span><br><span class="line">    s = <span class="number">40</span> - <span class="number">20</span> * size_marker</span><br><span class="line">    </span><br><span class="line">    deg = <span class="number">1</span> / (xs ** <span class="number">2</span> + ys ** <span class="number">2</span> + <span class="number">1</span>)</span><br><span class="line">    ax = plt.subplot(<span class="number">3</span>, <span class="number">3</span>, idx+<span class="number">1</span>)</span><br><span class="line">    </span><br><span class="line">    ax = plt.scatter(xs, ys, c=deg, s=s ,cmap=cmap, linewidth=size_marker, edgecolor=<span class="string">&quot;None&quot;</span>, zorder=-<span class="number">10</span>);</span><br><span class="line">    <span class="comment"># plt.colorbar(ax)</span></span><br><span class="line">    ax = plt.scatter(xs[size_marker], ys[size_marker], </span><br><span class="line">                     c=<span class="string">&quot;None&quot;</span>, s=<span class="number">20</span>, linewidth=<span class="number">1</span>, edgecolor=<span class="string">&quot;gray&quot;</span>, zorder=-<span class="number">15</span>, label=<span class="string">&quot;Type A&quot;</span>);</span><br><span class="line">    ax = plt.scatter(xs[~size_marker], ys[~size_marker], </span><br><span class="line">                     c=<span class="string">&quot;None&quot;</span>, s=<span class="number">40</span>, linewidth=<span class="number">1</span>, edgecolor=<span class="string">&quot;gray&quot;</span>, zorder=-<span class="number">15</span>, label=<span class="string">&quot;Type B&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    plt.legend(loc=<span class="string">&quot;upper right&quot;</span>)</span><br><span class="line">    plt.xlabel(<span class="string">r&quot;Random Variable $X$&quot;</span>)</span><br><span class="line">    plt.ylabel(<span class="string">r&quot;Random Variable $Y$&quot;</span>)</span><br><span class="line">    plt.grid(alpha=<span class="number">0.6</span>, zorder=-<span class="number">20</span>)</span><br><span class="line">    plt.title(cmap)</span><br><span class="line"></span><br><span class="line">plt.tight_layout()</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230829195431817.png" alt="image-20230829195431817" style="zoom:50%;" /></p>
<h5 id="3-1-3-多子图序号的绘制"><a href="#3-1-3-多子图序号的绘制" class="headerlink" title="3.1.3 多子图序号的绘制"></a>3.1.3 多子图序号的绘制</h5><p><code>proplot</code>提供灵活的格式化刚噶，可以控制多子图的序号位置。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>控制字符串</th>
<th>简写</th>
<th>子图序号在子图中的位置</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&quot;center&quot;</code></td>
<td><code>&#39;c&#39;</code></td>
<td><font color="green">上轴</font><font color="blue">上方</font><font color="orange">中间</font></td>
</tr>
<tr>
<td><code>&quot;left&quot;</code></td>
<td><code>&#39;l&#39;</code></td>
<td><font color="green">上轴</font><font color="blue">上方</font><font color="orange">左侧</font></td>
</tr>
<tr>
<td><code>&quot;right&quot;</code></td>
<td><code>&#39;r&#39;</code></td>
<td><font color="green">上轴</font><font color="blue">上方</font><font color="orange">右侧</font></td>
</tr>
<tr>
<td><code>&quot;lower center&quot;</code></td>
<td><code>&quot;lc&quot;</code></td>
<td><font color="green">下轴</font><font color="blue">上方</font><font color="orange">中间</font></td>
</tr>
<tr>
<td><code>&quot;upper center&quot;</code></td>
<td><code>&quot;uc&quot;</code></td>
<td><font color="green">上轴</font><font color="blue">下方</font><font color="orange">中间</font></td>
</tr>
<tr>
<td><code>&quot;upper right&quot;</code></td>
<td><code>&quot;ur&quot;</code></td>
<td><font color="green">上轴</font><font color="blue">下方</font><font color="orange">右侧</font></td>
</tr>
<tr>
<td><code>&quot;upper left&quot;</code></td>
<td><code>&quot;ul&quot;</code></td>
<td><font color="green">上轴</font><font color="blue">下方</font><font color="orange">左侧</font></td>
</tr>
<tr>
<td><code>&quot;lower left&quot;</code></td>
<td><code>&quot;ll&quot;</code></td>
<td><font color="green">下轴</font><font color="blue">上方</font><font color="orange">左侧</font></td>
</tr>
<tr>
<td><code>&quot;lower right&quot;</code></td>
<td><code>&quot;lr&quot;</code></td>
<td><font color="green">下轴</font><font color="blue">上方</font><font color="orange">左侧</font></td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> proplot <span class="keyword">as</span> ppl</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">fig = ppl.figure(abc=<span class="literal">True</span>)</span><br><span class="line">axs = fig.subplots(ncols=<span class="number">3</span>, nrows=<span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(axs)</span><br><span class="line">axs.<span class="built_in">format</span>(</span><br><span class="line">    abc=<span class="string">&#x27;A.&#x27;</span>, abcloc=<span class="string">&#x27;ul&#x27;</span>,</span><br><span class="line">    xlabel=<span class="string">&#x27;x axis&#x27;</span>, ylabel=<span class="string">&#x27;y axis&#x27;</span>,</span><br><span class="line">    suptitle=<span class="string">&#x27;A-b-c label offsetting, borders, and boxes&#x27;</span>,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">ls = [<span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;l&#x27;</span>, <span class="string">&#x27;r&#x27;</span>, <span class="string">&quot;lc&quot;</span>, <span class="string">&quot;uc&quot;</span>, <span class="string">&quot;ur&quot;</span>, <span class="string">&quot;ul&quot;</span>, <span class="string">&quot;ll&quot;</span>, <span class="string">&quot;lr&quot;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i, ls <span class="keyword">in</span> <span class="built_in">enumerate</span>(ls):</span><br><span class="line">    axs[i].<span class="built_in">format</span>(abcloc=ls, titleloc=ls, title=<span class="string">&quot;&quot;</span>, abcbbox=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230829203315346.png" alt="image-20230829203315346" style="zoom:50%;" /></p>
<h4 id="3-2-更简单的颜色条和图例"><a href="#3-2-更简单的颜色条和图例" class="headerlink" title="3.2 更简单的颜色条和图例"></a>3.2 更简单的颜色条和图例</h4><p><code>proplot</code>拥有简单绘制<code>colorbar</code>和<code>legend</code>的框架<code>proplot.figure.Figure.colorbar</code>和<code>proplot.figure.Figure.legend</code>，可以将框架位置传入下层的<code>axes.Axes.colorbar</code>或者<code>axes.Axes.legend</code>，完成绘制工作。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> proplot <span class="keyword">as</span> pplt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">fig = pplt.figure(share=<span class="literal">False</span>, refwidth=<span class="number">2.3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 不同位置的 Colorbar</span></span><br><span class="line">ax = fig.subplot(<span class="number">121</span>)</span><br><span class="line">state = np.random.RandomState(<span class="number">51423</span>)</span><br><span class="line">m = ax.heatmap(state.rand(<span class="number">10</span>, <span class="number">10</span>), colorbar=<span class="string">&#x27;t&#x27;</span>, cmap=<span class="string">&#x27;dusk&#x27;</span>)</span><br><span class="line">ax.colorbar(m, loc=<span class="string">&#x27;r&#x27;</span>)<span class="comment"># 添加右侧，默认出现在上面</span></span><br><span class="line">ax.colorbar(m, loc=<span class="string">&#x27;ll&#x27;</span>, label=<span class="string">&#x27;colorbar label&#x27;</span>)<span class="comment"># 添加左下角</span></span><br><span class="line">ax.<span class="built_in">format</span>(title=<span class="string">&#x27;Axes colorbars&#x27;</span>, suptitle=<span class="string">&#x27;Axes colorbars and legends demo&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 不同位置的 Legend</span></span><br><span class="line">ax = fig.subplot(<span class="number">122</span>)</span><br><span class="line">ax.<span class="built_in">format</span>(title=<span class="string">&#x27;Axes legends&#x27;</span>, titlepad=<span class="string">&#x27;0em&#x27;</span>)</span><br><span class="line">hs = ax.plot(</span><br><span class="line">    (state.rand(<span class="number">10</span>, <span class="number">5</span>) - <span class="number">0.5</span>).cumsum(axis=<span class="number">0</span>), linewidth=<span class="number">3</span>,</span><br><span class="line">    cycle=<span class="string">&#x27;ggplot&#x27;</span>, legend=<span class="string">&#x27;t&#x27;</span>,</span><br><span class="line">    labels=<span class="built_in">list</span>(<span class="string">&#x27;abcde&#x27;</span>), legend_kw=&#123;<span class="string">&#x27;ncols&#x27;</span>: <span class="number">5</span>, <span class="string">&#x27;frame&#x27;</span>: <span class="literal">False</span>&#125;</span><br><span class="line">)</span><br><span class="line">ax.legend(hs, loc=<span class="string">&#x27;r&#x27;</span>, ncols=<span class="number">1</span>, frame=<span class="literal">False</span>)</span><br><span class="line">ax.legend(hs, loc=<span class="string">&#x27;ll&#x27;</span>, label=<span class="string">&#x27;legend label&#x27;</span>)</span><br><span class="line">fig.<span class="built_in">format</span>(abc=<span class="literal">True</span>, xlabel=<span class="string">&#x27;xlabel&#x27;</span>, ylabel=<span class="string">&#x27;ylabel&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230829203859803.png" alt="image-20230829203859803" style="zoom:50%;" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> proplot <span class="keyword">as</span> pplt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">N = <span class="number">10</span></span><br><span class="line">state = np.random.RandomState(<span class="number">51423</span>)</span><br><span class="line">fig, axs = pplt.subplots(</span><br><span class="line">    nrows=<span class="number">2</span>, share=<span class="literal">False</span>,</span><br><span class="line">    refwidth=<span class="string">&#x27;55mm&#x27;</span>, panelpad=<span class="string">&#x27;1em&#x27;</span>,</span><br><span class="line">    suptitle=<span class="string">&#x27;Stacked colorbars demo&#x27;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 堆叠的 Colorbar</span></span><br><span class="line">args1 = (<span class="number">0</span>, <span class="number">0.5</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="string">&#x27;grays&#x27;</span>, <span class="number">0.5</span>)<span class="comment"># 对应网格的上半部分</span></span><br><span class="line">args2 = (<span class="number">0</span>, <span class="number">0</span>, <span class="number">0.5</span>, <span class="number">0.5</span>, <span class="string">&#x27;reds&#x27;</span>, <span class="number">1</span>)<span class="comment"># 对应网格的左下角</span></span><br><span class="line">args3 = (<span class="number">0.5</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0.5</span>, <span class="string">&#x27;blues&#x27;</span>, <span class="number">2</span>)<span class="comment"># 对应网格的右下角</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> j, ax <span class="keyword">in</span> <span class="built_in">enumerate</span>(axs):</span><br><span class="line">    ax.<span class="built_in">format</span>(xlabel=<span class="string">&#x27;data&#x27;</span>, xlocator=np.linspace(<span class="number">0</span>, <span class="number">0.8</span>, <span class="number">5</span>), title=<span class="string">f&#x27;Subplot #<span class="subst">&#123;j+<span class="number">1</span>&#125;</span>&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> i, (x0, y0, x1, y1, cmap, scale) <span class="keyword">in</span> <span class="built_in">enumerate</span>((args1, args2, args3)):</span><br><span class="line">        <span class="keyword">if</span> j == <span class="number">1</span> <span class="keyword">and</span> i == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        data = state.rand(N, N) * scale</span><br><span class="line">        x, y = np.linspace(x0, x1, N + <span class="number">1</span>), np.linspace(y0, y1, N + <span class="number">1</span>)</span><br><span class="line">        m = ax.pcolormesh(x, y, data, cmap=cmap, levels=np.linspace(<span class="number">0</span>, scale, <span class="number">11</span>))</span><br><span class="line">        ax.colorbar(m, loc=<span class="string">&#x27;l&#x27;</span>, label=<span class="string">f&#x27;dataset #<span class="subst">&#123;i+<span class="number">1</span>&#125;</span>&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230829204139962.png" alt="image-20230829204139962" style="zoom:50%;" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> proplot <span class="keyword">as</span> pplt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">state = np.random.RandomState(<span class="number">51423</span>)</span><br><span class="line">fig, axs = pplt.subplots(ncols=<span class="number">3</span>, nrows=<span class="number">3</span>, refwidth=<span class="number">1.4</span>)</span><br><span class="line"><span class="keyword">for</span> ax <span class="keyword">in</span> axs:</span><br><span class="line">    m = ax.pcolormesh(state.rand(<span class="number">20</span>, <span class="number">20</span>), </span><br><span class="line">                      cmap=<span class="string">&#x27;grays&#x27;</span>,</span><br><span class="line">                      levels=np.linspace(<span class="number">0</span>, <span class="number">1</span>, <span class="number">11</span>), <span class="comment"># 设置 colorbar 的层级</span></span><br><span class="line">                      extend=<span class="string">&#x27;both&#x27;</span><span class="comment"># 设置 colorbar 为上下均为三角形</span></span><br><span class="line">                      <span class="comment"># extend 参数还可以设置为 &quot;min&quot;, &quot;max&quot; 和 &quot;neither&quot;（默认）</span></span><br><span class="line">    )</span><br><span class="line">fig.<span class="built_in">format</span>(suptitle=<span class="string">&#x27;Figure colorbars and legends demo&#x27;</span>,</span><br><span class="line">           abc=<span class="string">&#x27;a.&#x27;</span>, </span><br><span class="line">           abcloc=<span class="string">&#x27;l&#x27;</span>, </span><br><span class="line">           xlabel=<span class="string">&#x27;xlabel&#x27;</span>, </span><br><span class="line">           ylabel=<span class="string">&#x27;ylabel&#x27;</span></span><br><span class="line">)</span><br><span class="line"><span class="comment"># 定位在第一列，最下方</span></span><br><span class="line">fig.colorbar(m, </span><br><span class="line">             label=<span class="string">&#x27;column 1&#x27;</span>, </span><br><span class="line">             ticks=<span class="number">0.5</span>, </span><br><span class="line">             loc=<span class="string">&#x27;b&#x27;</span>, </span><br><span class="line">             col=<span class="number">1</span></span><br><span class="line">             )</span><br><span class="line"><span class="comment"># 横跨第二列和第三列，最下方</span></span><br><span class="line">fig.colorbar(m, </span><br><span class="line">             label=<span class="string">&#x27;columns 2 and 3&#x27;</span>, </span><br><span class="line">             ticks=<span class="number">0.2</span>, </span><br><span class="line">             loc=<span class="string">&#x27;b&#x27;</span>, </span><br><span class="line">             cols=(<span class="number">2</span>, <span class="number">3</span>))</span><br><span class="line"><span class="comment"># 堆叠在上面两个 colorbar 的下方，并设置子刻度</span></span><br><span class="line">fig.colorbar(m, </span><br><span class="line">             label=<span class="string">&#x27;stacked colorbar&#x27;</span>, </span><br><span class="line">             ticks=<span class="number">0.1</span>, </span><br><span class="line">             loc=<span class="string">&#x27;b&#x27;</span>, </span><br><span class="line">             minorticks=<span class="number">0.05</span></span><br><span class="line">             )</span><br><span class="line"><span class="comment"># 定位在右侧</span></span><br><span class="line">fig.colorbar(m, </span><br><span class="line">             label=<span class="string">&#x27;colorbar with length &lt;1&#x27;</span>, </span><br><span class="line">             ticks=<span class="number">0.1</span>, </span><br><span class="line">             loc=<span class="string">&#x27;r&#x27;</span>, </span><br><span class="line">             length=<span class="number">0.7</span></span><br><span class="line">             )</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230829205026274.png" alt="image-20230829205026274" style="zoom:50%;" /></p>
<h4 id="3-3-更加美观的颜色和字体"><a href="#3-3-更加美观的颜色和字体" class="headerlink" title="3.3 更加美观的颜色和字体"></a>3.3 更加美观的颜色和字体</h4><h5 id="3-3-1-颜色映射"><a href="#3-3-1-颜色映射" class="headerlink" title="3.3.1 颜色映射"></a>3.3.1 颜色映射</h5><h6 id="3-3-1-1-内置颜色映射"><a href="#3-3-1-1-内置颜色映射" class="headerlink" title="3.3.1.1 内置颜色映射"></a>3.3.1.1 内置颜色映射</h6><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">fig, axs = pplt.show_cmaps(rasterize=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230829205751390.png" alt="image-20230829205751390" style="zoom: 25%;" /></p>
<h6 id="3-3-1-2-感知均匀色彩空间"><a href="#3-3-1-2-感知均匀色彩空间" class="headerlink" title="3.3.1.2 感知均匀色彩空间"></a>3.3.1.2 <a target="_blank" rel="noopener" href="https://proplot.readthedocs.io/en/stable/colormaps.html">感知均匀色彩空间</a></h6><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Colorspace demo</span></span><br><span class="line"><span class="keyword">import</span> proplot <span class="keyword">as</span> pplt</span><br><span class="line">fig, axs = pplt.show_colorspaces(refwidth=<span class="number">1.6</span>, luminance=<span class="number">50</span>)</span><br><span class="line">fig, axs = pplt.show_colorspaces(refwidth=<span class="number">1.6</span>, saturation=<span class="number">60</span>)</span><br><span class="line">fig, axs = pplt.show_colorspaces(refwidth=<span class="number">1.6</span>, hue=<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230829210058159.png" alt="image-20230829210058159" style="zoom:50%;" /></p>
<p><img src="/img/image-20230829210106006.png" alt="image-20230829210106006" style="zoom:50%;" /></p>
<p><img src="/img/image-20230829210119858.png" alt="image-20230829210119858" style="zoom:50%;" /></p>
<h6 id="3-3-1-3-colormap的融合"><a href="#3-3-1-3-colormap的融合" class="headerlink" title="3.3.1.3 colormap的融合"></a>3.3.1.3 <code>colormap</code>的融合</h6><p>考虑如下的海蓝宝（Aquamarine）和摩根石（Morganite）颜色的混合（<a target="_blank" rel="noopener" href="https://b23.tv/GyFsxmK">来源</a>）：</p>
<p><img src="/img/image-20230829212039327.png" alt="image-20230829212039327" style="zoom:30%;" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"></span><br><span class="line">cmap1 = sns.color_palette(<span class="string">&quot;blend:#58A0A4,#9AD4D6&quot;</span>, as_cmap=<span class="literal">True</span>)</span><br><span class="line">cmap2 = sns.color_palette(<span class="string">&quot;blend:#9AD4D6,#DDC3C7&quot;</span>, as_cmap=<span class="literal">True</span>)</span><br><span class="line">cmap3 = sns.color_palette(<span class="string">&quot;blend:#DDC3C7,#D1A9A9&quot;</span>, as_cmap=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">cmap4 = pplt.Colormap(</span><br><span class="line">    cmap1, cmap2, cmap3,</span><br><span class="line">    name=<span class="string">&#x27;AquamarineMorganite&#x27;</span>, </span><br><span class="line">    ratios = (<span class="number">4</span>, <span class="number">2</span>, <span class="number">4</span>),</span><br><span class="line">    save=<span class="literal">True</span></span><br><span class="line">)</span><br><span class="line">fig, ax = pplt.show_cmaps(cmap1, cmap2, cmap3, <span class="string">&quot;AquamarineMorganite&quot;</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230829213129530.png" alt="image-20230829213129530" style="zoom:50%;" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">state = np.random.RandomState(<span class="number">114514</span>)</span><br><span class="line">data = state.rand(<span class="number">30</span>, <span class="number">30</span>).cumsum(axis=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">fig, ax = pplt.subplots(nrows=<span class="number">1</span>, </span><br><span class="line">                        ncols=<span class="number">1</span>, </span><br><span class="line">                        dpi=<span class="number">300</span>, </span><br><span class="line">                        figsize=(<span class="number">8</span>, <span class="number">8</span>)</span><br><span class="line">                        )</span><br><span class="line"></span><br><span class="line">m = ax.contourf(data, cmap=<span class="string">&quot;AquamarineMorganite&quot;</span>, levels=<span class="number">100</span>)</span><br><span class="line">ax.grid(<span class="literal">False</span>)</span><br><span class="line">ax.colorbar(m, loc=<span class="string">&#x27;top&#x27;</span>, ticks=<span class="number">2.5</span>)</span><br><span class="line">ax.colorbar(m, ticks=<span class="number">2.5</span>)</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230829213144426.png" alt="image-20230829213144426" style="zoom:10%;" /></p>
<h5 id="3-3-2-字体"><a href="#3-3-2-字体" class="headerlink" title="3.3.2 字体"></a>3.3.2 字体</h5><p><strong>内置字体列表</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">pplt.show_fonts()</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230829213756922.png" alt="image-20230829213756922" style="zoom: 33%;" /></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> itertools <span class="keyword">import</span> permutations</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> axes</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> permute</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">font_text</span>(<span class="params">ax, x, y, text, family, **kwargs</span>):</span><br><span class="line">    ax.text</span><br><span class="line"></span><br><span class="line">fonts = [<span class="string">&quot;Serif&quot;</span>, </span><br><span class="line">         <span class="string">&quot;Sans&quot;</span>, </span><br><span class="line">         <span class="string">&quot;Monospace&quot;</span>, </span><br><span class="line">         <span class="string">&quot;Cursive&quot;</span>]</span><br><span class="line"></span><br><span class="line">fig, axs = pplt.subplots(nrows=<span class="number">2</span>, ncols=<span class="number">2</span>, </span><br><span class="line">                         share=<span class="literal">False</span>,</span><br><span class="line">                         rc_kw=&#123;<span class="string">&quot;font.family&quot;</span>:fonts&#125;,</span><br><span class="line">                         dpi=<span class="number">300</span>,</span><br><span class="line">                         figsize=(<span class="number">8</span>, <span class="number">8</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> idx, font <span class="keyword">in</span> <span class="built_in">enumerate</span>(fonts):</span><br><span class="line">    arr = np.random.randn(<span class="number">8</span>, <span class="number">8</span>)</span><br><span class="line">    </span><br><span class="line">    m = axs[idx].imshow(arr, cmap=<span class="string">&quot;AquamarineMorganite&quot;</span>)</span><br><span class="line">    axs[idx].grid(<span class="literal">False</span>)</span><br><span class="line">    axs[idx].<span class="built_in">format</span>(title=<span class="string">f&quot;<span class="subst">&#123;font&#125;</span>&quot;</span>, </span><br><span class="line">                    title_kw=&#123;<span class="string">&quot;family&quot;</span>:font&#125;)</span><br><span class="line">    axs[idx].set_xticklabels(axs[idx].get_xticks(),</span><br><span class="line">                             font=<span class="built_in">dict</span>(family=font))</span><br><span class="line">    axs[idx].set_yticklabels(axs[idx].get_yticks(),</span><br><span class="line">                             font=<span class="built_in">dict</span>(family=font))</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> i, j <span class="keyword">in</span> <span class="built_in">list</span>(permutations(<span class="built_in">range</span>(<span class="number">8</span>), <span class="number">2</span>)) + [(i, i) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">8</span>)]:</span><br><span class="line">        axs[idx].text(i, j, <span class="string">f&quot;<span class="subst">&#123;arr[i, j]:<span class="number">.1</span>f&#125;</span>&quot;</span>, </span><br><span class="line">                      horizontalalignment=<span class="string">&quot;center&quot;</span>,</span><br><span class="line">                      verticalalignment=<span class="string">&quot;center&quot;</span>,</span><br><span class="line">                      family=font)</span><br><span class="line"></span><br><span class="line">fig.colorbar(m)</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230829223621612.png" alt="image-20230829223621612" style="zoom:25%;" /></p>
<h3 id="4-scienceplots"><a href="#4-scienceplots" class="headerlink" title="4 scienceplots"></a>4 <code>scienceplots</code></h3><p><code>scienceplots</code>是专门用于科研论文绘图的第三方扩展工具包。但用户需要根据期刊的绘制要求对配图进行微调与修改。<code>scienceplot</code>提供了主流英文科技期刊（如 Nature、IEEE、Science）的<code>matplotlib</code>图样式，只需在绘图之前指定<code>matplotlib</code>的绘图主题即可：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.style.use([<span class="string">&quot;science&quot;</span>])</span><br><span class="line">plt.style.use([<span class="string">&quot;science&quot;</span>, <span class="string">&quot;ieee&quot;</span>])</span><br><span class="line">plt.style.use([<span class="string">&quot;science&quot;</span>, <span class="string">&quot;nature&quot;</span>])</span><br></pre></td></tr></table></figure>
<p><code>scienceplots</code>还支持一些内置的模式：</p>
<ul>
<li><code>science</code></li>
<li><code>grid</code></li>
<li><code>scatter</code></li>
<li><code>notebook</code> （用于在 Jupyter 中绘制）</li>
<li><code>ieee</code> （用于 IEEE 期刊）</li>
<li><code>nature</code> （用于 Nature 期刊）</li>
<li><code>bright</code> （亮色）</li>
<li><code>vibrant</code> （鲜艳）</li>
<li><code>muted</code> （暗色）</li>
<li><code>high-contrast</code> （高对比度）</li>
<li><code>light</code> （亮色）</li>
<li><code>std-colors</code> （用于重载其他色系）</li>
<li><code>high-vis</code></li>
<li><code>retro</code></li>
</ul>
<p>在此主要选取期刊的绘图主题进行绘制。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> scienceplots</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">plt.figure(figsize=(<span class="number">9</span>, <span class="number">6</span>))</span><br><span class="line"></span><br><span class="line">x = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">1000</span>)</span><br><span class="line">y1 = np.sin(x) + x ** <span class="number">0.5</span></span><br><span class="line">y2 = np.sin(x) + x ** <span class="number">0.4</span></span><br><span class="line">y3 = np.sin(x) + x ** <span class="number">0.3</span></span><br><span class="line">y4 = np.sin(x) + x ** <span class="number">0.2</span></span><br><span class="line"></span><br><span class="line">themes = [<span class="literal">None</span>,</span><br><span class="line">          (<span class="string">&quot;science&quot;</span>, ),</span><br><span class="line">          (<span class="string">&quot;science&quot;</span>, <span class="string">&quot;ieee&quot;</span>),</span><br><span class="line">          (<span class="string">&quot;science&quot;</span>, <span class="string">&quot;nature&quot;</span>)]</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">plot_</span>(<span class="params">ax, themes:<span class="built_in">tuple</span></span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">    ax.plot(x, y1, label=<span class="string">r&quot;$\sin(x)+x^&#123;\frac&#123;1&#125;&#123;2&#125;&#125;$&quot;</span>)</span><br><span class="line">    ax.plot(x, y2, label=<span class="string">r&quot;$\sin(x)+x^&#123;\frac&#123;2&#125;&#123;5&#125;&#125;$&quot;</span>)</span><br><span class="line">    ax.plot(x, y3, label=<span class="string">r&quot;$\sin(x)+x^&#123;\frac&#123;3&#125;&#123;10&#125;&#125;$&quot;</span>)</span><br><span class="line">    ax.plot(x, y4, label=<span class="string">r&quot;$\sin(x)+x^&#123;\frac&#123;1&#125;&#123;5&#125;&#125;$&quot;</span>)</span><br><span class="line">    ax.set_xlabel(<span class="string">&quot;time&quot;</span>)</span><br><span class="line">    ax.set_ylabel(<span class="string">&quot;Values&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> themes <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">        ax.set_title(<span class="string">&#x27;,&#x27;</span>.join(<span class="built_in">list</span>(themes)))</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        ax.set_title(<span class="string">&quot;default&quot;</span>)</span><br><span class="line">    ax.legend()</span><br><span class="line">    ax.grid()</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>):</span><br><span class="line">    <span class="keyword">if</span> themes[i] <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">        <span class="keyword">with</span> plt.style.context(<span class="built_in">list</span>(themes[i])):</span><br><span class="line">            ax = plt.subplot(<span class="number">2</span>, <span class="number">2</span>, i+<span class="number">1</span>)</span><br><span class="line">            plot_(ax, themes=themes[i])</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        ax = plt.subplot(<span class="number">2</span>, <span class="number">2</span>, i+<span class="number">1</span>)</span><br><span class="line">        plot_(ax, themes=themes[i])</span><br><span class="line"></span><br><span class="line">plt.tight_layout()</span><br></pre></td></tr></table></figure>
<p><img src="/img/image-20230830001557384.png" alt="image-20230830001557384" style="zoom:75%;" /></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="https://hrjtju.github.io">Ruijie He</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://hrjtju.github.io/2023/08/25/2023/08/2023-08-29-PySciPlot-2/">https://hrjtju.github.io/2023/08/25/2023/08/2023-08-29-PySciPlot-2/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Plotting/">Plotting</a></div><div class="post_share"><div class="social-share" data-image="/img/header/sciplot.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/08/25/2023/08/2023-08-30-PySciPlot-x1/" title="【Datawhale 科研绘图——番外篇】 1 矿石配色的实现"><img class="cover" src="/img/header/sciplot.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">【Datawhale 科研绘图——番外篇】 1 矿石配色的实现</div></div></a></div><div class="next-post pull-right"><a href="/2023/08/23/2023/08/2023-08-23-DWSP-ML-3/" title="【Datawhale夏令营】机器学习 2 数据可视化和特征工程优化"><img class="cover" src="/img/header/DWMLSC.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">【Datawhale夏令营】机器学习 2 数据可视化和特征工程优化</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/2023/08/13/2023/08/2023-08-13-PySciPlot-1/" title="【Datawhale 科研绘图】 1 科研论文配图的绘制与配色基础"><img class="cover" src="/img/header/sciplot.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-08-13</div><div class="title">【Datawhale 科研绘图】 1 科研论文配图的绘制与配色基础</div></div></a></div><div><a href="/2023/08/25/2023/08/2023-08-25-PySciPlot-2/" title="【Datawhale 科研绘图】 2 绘制工具及示例"><img class="cover" src="/img/header/sciplot.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-08-25</div><div class="title">【Datawhale 科研绘图】 2 绘制工具及示例</div></div></a></div><div><a href="/2023/08/25/2023/08/2023-08-30-PySciPlot-x1/" title="【Datawhale 科研绘图——番外篇】 1 矿石配色的实现"><img class="cover" src="/img/header/sciplot.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-08-25</div><div class="title">【Datawhale 科研绘图——番外篇】 1 矿石配色的实现</div></div></a></div><div><a href="/2023/08/30/2023/08/2023-08-30-PySciPlot-3/" title="【Datawhale 科研绘图】3 单变量图形绘制"><img class="cover" src="/img/header/sciplot.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-08-30</div><div class="title">【Datawhale 科研绘图】3 单变量图形绘制</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/arisu.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Ruijie He</div><div class="author-info__description">Undergraduate in Tongji University</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">72</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">34</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">2</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/hrjtju"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">7月17日给博客换了一个主题，现在仍在装修中</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-matplotlib"><span class="toc-text">1 matplotlib</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-%E5%9B%BE%E5%BD%A2%E5%85%83%E7%B4%A0"><span class="toc-text">1.1 图形元素</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-%E5%9B%BE%E5%B1%82%E9%A1%BA%E5%BA%8F"><span class="toc-text">1.2 图层顺序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-%E8%BD%B4%E6%AF%94%E4%BE%8B%E5%92%8C%E5%88%BB%E5%BA%A6"><span class="toc-text">1.3 轴比例和刻度</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-3-1-%E8%BD%B4%E6%AF%94%E4%BE%8B"><span class="toc-text">1.3.1 轴比例</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-3-2-%E5%88%BB%E5%BA%A6%E4%BD%8D%E7%BD%AE%E5%92%8C%E5%88%BB%E5%BA%A6%E6%A0%BC%E5%BC%8F"><span class="toc-text">1.3.2 刻度位置和刻度格式</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-%E5%9D%90%E6%A0%87%E7%B3%BB"><span class="toc-text">1.4 坐标系</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-5-%E5%A4%9A%E5%AD%90%E5%9B%BE%E7%BB%98%E5%88%B6"><span class="toc-text">1.5 多子图绘制</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-5-1-axes"><span class="toc-text">1.5.1 axes()</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-5-2-subplot2grid"><span class="toc-text">1.5.2 subplot2grid()</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-5-3-gridspec-GridSpec"><span class="toc-text">1.5.3 gridspec.GridSpec()</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-5-4-subplot-mosaic"><span class="toc-text">1.5.4 subplot_mosaic()</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-6-%E5%B8%B8%E8%A7%81%E7%9A%84%E5%9B%BE%E7%B1%BB%E5%9E%8B"><span class="toc-text">1.6 常见的图类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-7-%E7%BB%93%E6%9E%9C%E7%9A%84%E4%BF%9D%E5%AD%98"><span class="toc-text">1.7 结果的保存</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Seaborn"><span class="toc-text">2 Seaborn</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-%E5%9B%BE%E7%B1%BB%E5%9E%8B"><span class="toc-text">2.1 图类型</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#2-1-1-%E5%85%B3%E7%B3%BB%E5%9E%8B"><span class="toc-text">2.1.1 关系型</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#2-1-1-1-scatterplot"><span class="toc-text">2.1.1.1 scatterplot()</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-1-1-2-relplot"><span class="toc-text">2.1.1.2 relplot()</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-1-1-3-lineplot"><span class="toc-text">2.1.1.3 lineplot()</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-1-2-%E6%95%B0%E6%8D%AE%E5%88%86%E5%B8%83%E5%9E%8B"><span class="toc-text">2.1.2 数据分布型</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#2-1-2-1-displot"><span class="toc-text">2.1.2.1 displot()</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-1-2-2-histpot"><span class="toc-text">2.1.2.2 histpot()</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-1-2-3-kdeplot"><span class="toc-text">2.1.2.3 kdeplot()</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-1-2-4-ecdfplot"><span class="toc-text">2.1.2.4 ecdfplot()</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-1-2-5-rugplot"><span class="toc-text">2.1.2.5 rugplot()</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-1-3-%E5%88%86%E7%B1%BB%E6%95%B0%E6%8D%AE%E5%9E%8B"><span class="toc-text">2.1.3 分类数据型</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#2-1-3-1-stripplot"><span class="toc-text">2.1.3.1 stripplot()</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-1-3-2-swarmplot"><span class="toc-text">2.1.3.2 swarmplot()</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-1-3-3-boxplot"><span class="toc-text">2.1.3.3 boxplot()</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-1-3-4-violinplot"><span class="toc-text">2.1.3.4 violinplot()</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-1-3-5-boxenplot"><span class="toc-text">2.1.3.5 boxenplot()</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-1-3-6-pointplot"><span class="toc-text">2.1.3.6 pointplot()</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-1-3-7-barplot"><span class="toc-text">2.1.3.7 barplot()</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-1-3-8-countplot"><span class="toc-text">2.1.3.8 countplot()</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-1-4-%E5%9B%9E%E5%BD%92%E6%A8%A1%E5%9E%8B%E5%88%86%E6%9E%90%E5%9E%8B"><span class="toc-text">2.1.4 回归模型分析型</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#2-1-4-1-lmplot"><span class="toc-text">2.1.4.1 lmplot()</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-1-4-2-regplot"><span class="toc-text">2.1.4.2 regplot()</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-1-4-3-residplot"><span class="toc-text">2.1.4.3 residplot()</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-%E5%A4%9A%E5%AD%90%E5%9B%BE%E7%BD%91%E6%A0%BC%E5%9E%8B%E5%9B%BE"><span class="toc-text">2.2 多子图网格型图</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#2-2-1-FacetGrid-%E7%B1%BB"><span class="toc-text">2.2.1 FacetGrid 类</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-2-2-PairGrid-%E7%B1%BB"><span class="toc-text">2.2.2 PairGrid 类</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-%E7%BB%98%E5%9B%BE%E9%A3%8E%E6%A0%BC%E3%80%81%E9%A2%9C%E8%89%B2%E4%B8%BB%E9%A2%98%E5%92%8C%E7%BB%98%E5%9B%BE%E5%85%83%E7%B4%A0%E7%BC%A9%E6%94%BE%E6%AF%94%E4%BE%8B"><span class="toc-text">2.3 绘图风格、颜色主题和绘图元素缩放比例</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#2-3-1-%E7%BB%98%E5%9B%BE%E9%A3%8E%E6%A0%BC"><span class="toc-text">2.3.1 绘图风格</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#2-3-1-1-seaborn-set-theme"><span class="toc-text">2.3.1.1 seaborn.set_theme()</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-3-2-%E9%A2%9C%E8%89%B2%E4%B8%BB%E9%A2%98"><span class="toc-text">2.3.2 颜色主题</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#2-3-2-1-%E5%BA%94%E7%94%A8%E9%A2%9C%E8%89%B2%E4%B8%BB%E9%A2%98"><span class="toc-text">2.3.2.1 应用颜色主题</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-3-2-2-%E4%BD%BF%E7%94%A8-color-palette-%E8%87%AA%E5%AE%9A%E4%B9%89%E8%89%B2%E7%B3%BB"><span class="toc-text">2.3.2.2 使用 color_palette() 自定义色系</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-3-3-%E7%BB%98%E5%9B%BE%E5%85%83%E7%B4%A0%E7%BC%A9%E6%94%BE%E6%AF%94%E4%BE%8B"><span class="toc-text">2.3.3 绘图元素缩放比例</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Proplot"><span class="toc-text">3 Proplot</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-%E5%A4%9A%E5%AD%90%E5%9B%BE%E7%BB%98%E5%88%B6%E5%A4%84%E7%90%86"><span class="toc-text">3.1 多子图绘制处理</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#3-1-1-%E5%85%B1%E4%BA%AB%E8%BD%B4%E6%A0%87%E7%AD%BE"><span class="toc-text">3.1.1 共享轴标签</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-1-2-%E2%80%9D%E8%B7%A8%E5%BA%A6%E2%80%9C%E8%BD%B4%E6%A0%87%E7%AD%BE"><span class="toc-text">3.1.2 ”跨度“轴标签</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-1-3-%E5%A4%9A%E5%AD%90%E5%9B%BE%E5%BA%8F%E5%8F%B7%E7%9A%84%E7%BB%98%E5%88%B6"><span class="toc-text">3.1.3 多子图序号的绘制</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-%E6%9B%B4%E7%AE%80%E5%8D%95%E7%9A%84%E9%A2%9C%E8%89%B2%E6%9D%A1%E5%92%8C%E5%9B%BE%E4%BE%8B"><span class="toc-text">3.2 更简单的颜色条和图例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-%E6%9B%B4%E5%8A%A0%E7%BE%8E%E8%A7%82%E7%9A%84%E9%A2%9C%E8%89%B2%E5%92%8C%E5%AD%97%E4%BD%93"><span class="toc-text">3.3 更加美观的颜色和字体</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#3-3-1-%E9%A2%9C%E8%89%B2%E6%98%A0%E5%B0%84"><span class="toc-text">3.3.1 颜色映射</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#3-3-1-1-%E5%86%85%E7%BD%AE%E9%A2%9C%E8%89%B2%E6%98%A0%E5%B0%84"><span class="toc-text">3.3.1.1 内置颜色映射</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#3-3-1-2-%E6%84%9F%E7%9F%A5%E5%9D%87%E5%8C%80%E8%89%B2%E5%BD%A9%E7%A9%BA%E9%97%B4"><span class="toc-text">3.3.1.2 感知均匀色彩空间</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#3-3-1-3-colormap%E7%9A%84%E8%9E%8D%E5%90%88"><span class="toc-text">3.3.1.3 colormap的融合</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-3-2-%E5%AD%97%E4%BD%93"><span class="toc-text">3.3.2 字体</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-scienceplots"><span class="toc-text">4 scienceplots</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/03/09/2024/03/2024-03-09-Casual_Inference-04/" title="【基于图模型的因果推断】4 图模型的分析"><img src="/img/header/CasualInference.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【基于图模型的因果推断】4 图模型的分析"/></a><div class="content"><a class="title" href="/2024/03/09/2024/03/2024-03-09-Casual_Inference-04/" title="【基于图模型的因果推断】4 图模型的分析">【基于图模型的因果推断】4 图模型的分析</a><time datetime="2024-03-08T16:00:00.000Z" title="Created 2024-03-09 00:00:00">2024-03-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/03/08/2024/03/2024-03-08-Casual_Inference-03/" title="【基于图模型的因果推断】3 图模型和结构因果模型：理论和简单实践"><img src="/img/header/CasualInference.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【基于图模型的因果推断】3 图模型和结构因果模型：理论和简单实践"/></a><div class="content"><a class="title" href="/2024/03/08/2024/03/2024-03-08-Casual_Inference-03/" title="【基于图模型的因果推断】3 图模型和结构因果模型：理论和简单实践">【基于图模型的因果推断】3 图模型和结构因果模型：理论和简单实践</a><time datetime="2024-03-07T16:00:00.000Z" title="Created 2024-03-08 00:00:00">2024-03-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/03/05/2024/03/2024-03-05-Casual_Inference-01/" title="【基于图模型的因果推断】1 绪论"><img src="/img/header/CasualInference.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【基于图模型的因果推断】1 绪论"/></a><div class="content"><a class="title" href="/2024/03/05/2024/03/2024-03-05-Casual_Inference-01/" title="【基于图模型的因果推断】1 绪论">【基于图模型的因果推断】1 绪论</a><time datetime="2024-03-04T16:00:00.000Z" title="Created 2024-03-05 00:00:00">2024-03-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/03/05/2024/03/2024-03-05-Casual_Inference-02/" title="【基于图模型的因果推断】2 数学基础"><img src="/img/header/CasualInference.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【基于图模型的因果推断】2 数学基础"/></a><div class="content"><a class="title" href="/2024/03/05/2024/03/2024-03-05-Casual_Inference-02/" title="【基于图模型的因果推断】2 数学基础">【基于图模型的因果推断】2 数学基础</a><time datetime="2024-03-04T16:00:00.000Z" title="Created 2024-03-05 00:00:00">2024-03-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/03/01/2024/03/2024-03-01-TypeThTypeScript-02/" title="【类型论前导与TypeScript】2 TypeScript的控制语句"><img src="/img/header/TypeThIntro.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【类型论前导与TypeScript】2 TypeScript的控制语句"/></a><div class="content"><a class="title" href="/2024/03/01/2024/03/2024-03-01-TypeThTypeScript-02/" title="【类型论前导与TypeScript】2 TypeScript的控制语句">【类型论前导与TypeScript】2 TypeScript的控制语句</a><time datetime="2024-02-29T16:00:00.000Z" title="Created 2024-03-01 00:00:00">2024-03-01</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By Ruijie He</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      tags: 'ams'
    },
    chtml: {
      scale: 1.1
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, '']
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.min.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typesetPromise()
}</script></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="200" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>